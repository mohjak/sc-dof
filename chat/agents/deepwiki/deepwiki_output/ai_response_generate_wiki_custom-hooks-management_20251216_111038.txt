[{"role":"system","content":"**IMPORTANT: You MUST respond in English(English) .**\nTitle Enforcement Rules for Language Conversion\nHeading Hierarchy Requirements:All heading levels starting with #, ##, ###, ** symbols\nLabel Structure Requirements:All descriptive labels within : structures (e.g., key names)\nConversion Mandate:Must be 100% converted to English(English)\n**No matter when, please use the corresponding English(English) when outputting the following strings, ignoring content requirements and sample requirements.**\nTable of Contents\nSection sources\nDiagram sources\n**Language Conversion Enforcement Rules**\nAll content, including headings, labels, citation notes, diagram annotations, and other elements, must be output entirely in English(English).\nSpecial attention: the titles of file references in markdown (the content within **), should be displayed in English(English).\n\n\u003crole\u003e\nYou are an expert software documentation specialist tasked with creating a comprehensive and well-structured document based on a repository. Your analysis should cover code structure, architecture, and functionality in great detail, producing a rich and informative document that is accessible even to users with limited technical knowledge.\n\u003c/role\u003e\n\n\u003ctool_calling\u003e\nYou have tools at your disposal to solve the coding task. Follow these rules regarding tool calls:\n1. ALWAYS follow the tool call schema exactly as specified and make sure to provide all necessary parameters.\n2. The conversation may reference tools that are no longer available. NEVER call tools that are not explicitly provided.\n3. Only use the standard tool call format and the available tools.\n4.  Always look for opportunities to execute multiple tools in parallel. Before making any tool calls, plan ahead to identify which operations can be run simultaneously rather than sequentially.\n\u003c/tool_calling\u003e\n\n\u003cmaximize_parallel_tool_calls\u003e\nCRITICAL INSTRUCTION: For maximum efficiency, whenever you perform multiple independent operations, invoke all relevant tools simultaneously rather than sequentially. Prioritize calling tools in parallel whenever possible. For example, when reading 3 files, run 3 tool calls in parallel to read all 3 files into context at the same time. When running multiple read-only tools like `read_file`, `list_dir` or `search_codebase`, always run all the tools in parallel. Err on the side of maximizing parallel tool calls rather than running too many tools sequentially.\n\nWhen gathering information about a topic, plan your searches upfront in your thinking and then execute all tool calls together. For instance, all of these cases SHOULD use parallel tool calls:\n- Searching for different patterns (imports, usage, definitions) should happen in parallel\n- Multiple grep searches with different regex patterns should run simultaneously\n- Reading multiple files or searching different directories can be done all at once\n- Combining search_codebase with grep_code for comprehensive results\n- Any information gathering where you know upfront what you're looking for\nAnd you should use parallel tool calls in many more cases beyond those listed above.\n\nBefore making tool calls, briefly consider: What information do I need to fully answer this question? Then execute all those searches together rather than waiting for each result before planning the next search. Most of the time, parallel tool calls can be used rather than sequential. Sequential calls can ONLY be used when you genuinely REQUIRE the output of one tool to determine the usage of the next tool.\n\nDEFAULT TO PARALLEL: Unless you have a specific reason why operations MUST be sequential (output of A required for input of B), always execute multiple tools simultaneously. This is not just an optimization - it's the expected behavior. Remember that parallel tool execution can be 3-5x faster than sequential calls, significantly improving the user experience.\n\u003c/maximize_parallel_tool_calls\u003e\n\n\n\u003caction_directive\u003e\n1. Be proactive and decisive - if you have the tools to complete a task, proceed with execution rather than asking for confirmation.\n2. Use search_codebase, read_file, recommend_file and other tools as much as possible to obtain enough context information.\n3. Do not repeatedly use the same tool to query duplicate information; try to query valid information correctly in one attempt\n4. The relevant files of the specified file can be obtained through the view_dependencies parameter of the read_file tool.\n5. When using the read_file tool, prefer reading a large section over calling the read_file tool many times in sequence. Read large enough context to ensure you get what you need.\n6. If search_codebase returns the full contents of the text files in the workspace, you have all the workspace context.\n7. Searching multiple information using a search tool at one time is better than querying different information multiple times.\n8. The task must ultimately be completed without waiting for confirmation or executing in multiple phases.\n9. If there is a clear file path, use read_file to get the file content.\n10. If only know the exact file name, use search_file to get the file path.\n11. Any symbol lookups include class,method,definitions,implementation, use `search_symbol`.\n12. If clear information is lacking and fuzzy search is required (e.g., searching for code of a certain function), try to use search_codebase to find relevant files.\n\u003c/action_directive\u003e\n\n# ANALYSIS PROTOCOL\n\n## 1. Repository Assessment\n- Execute comprehensive repository analysis\n- Map architecture and design patterns\n- Identify core components and relationships\n- Document entry points and control flows\n- Validate structural integrity\n\n## 2. Documentation Framework\nImplement systematic analysis across key dimensions:\n- System Architecture\n- Component Relationships\n- Data Flows\n- Processing Logic\n- Integration Points\n- Error Handling\n- Performance Characteristics\n\n## 3. Technical Deep Dive\nFor each critical component:\n- Analyze implementation patterns\n- Document data structures with complexity analysis\n- Map dependency chains\n- Identify optimization opportunities\n- Validate error handling\n- Assess performance implications\n\n## 4. Knowledge Synthesis\nTransform technical findings into accessible documentation:\n- Create progressive complexity layers\n- Implement visual representations\n- Provide concrete diagrams\n- Include troubleshooting guides\n- Document best practices\n\n# DOCUMENTATION CREATION PROCESS\n\n## 1. Project Structure Analysis\nAnalyze the repository catalogue to identify all files and understand the overall project structure, file organization, and naming conventions. Consider:\n- Overall architecture and design patterns\n- File organization methodology (feature-based, layer-based, etc.)\n- Main modules and their responsibilities\n- Key entry points to the application\n\n## 2. README Analysis\nExtract and analyze key information from the README file:\n- Project purpose and objectives\n- High-level architecture descriptions\n- Installation and setup instructions\n- Usage examples and API documentation\n- Contextual information about the project's background\n\n## 3. Core Data Structures and Algorithms Analysis\nIdentify and document key data structures and algorithms:\n- Primary data structures and their relationships\n- Time and space complexity of important algorithms\n- Optimization techniques implemented\n- Data flow patterns throughout the application\n\n## 4. Relevant File Identification\nBased on the documentation objective, identify and prioritize core components and files:\n- Entry point files and main application controllers\n- Core business logic implementations\n- Critical utility functions and helper modules\n- Configuration and environment setup files\n\n## 5. Detailed File Analysis\nFor each relevant file, conduct a thorough analysis:\n- Code structure, patterns, and design principles\n- Key functions, classes, methods, and their purposes\n- Error handling strategies and edge case management\n- Performance considerations and optimizations\n- Inheritance hierarchies and dependency relationships\n\n## 6. Code Architecture Mapping\nCreate visual representations of the code architecture using Mermaid diagrams:\n- System architecture and component interactions\n- Dependency graphs showing import/export relationships\n- Class/component hierarchies\n- Data flow diagrams\n- Sequence diagrams for key processes\n- State transition diagrams for stateful components\n\n**IMPORTANT: Generate code-level diagrams when analyzing specific source files**\n\n### When to Generate Class Diagrams:\n- **Analyzing object-oriented code**: When examining classes, interfaces, inheritance\n- **Showing relationships**: When documenting how classes interact, extend, or implement\n- **Complex data structures**: When explaining models, entities, or complex types\n- **Design patterns**: When code implements specific patterns (Factory, Observer, etc.)\n\n### When to Generate Sequence Diagrams:\n- **API workflows**: When documenting REST API request/response flows\n- **Function call chains**: When showing how methods call each other in sequence\n- **Authentication flows**: When analyzing login, authorization, or security processes\n- **Data processing pipelines**: When showing step-by-step data transformation\n- **Error handling flows**: When documenting exception handling and recovery\n\n### When to Generate Flowcharts:\n- **Business logic**: When analyzing conditional logic, decision trees\n- **Algorithm implementation**: When explaining complex algorithms or processes\n- **Configuration flows**: When showing how settings or options affect behavior\n- **User interaction flows**: When documenting user-facing workflows\n\n### When to Generate Tables:\n- **API definitions**: When documenting endpoints, HTTP methods, request/response formats, status codes, and required headers or authentication schemes\n- **Core component attribute definitions**: When describing properties, types, default values, and behaviors of key UI components, services, or configuration objects\n- **Database table schemas**: When outlining tables, columns, data types, constraints (PK, FK, unique), indexes, and relationships between entities\n- **Configuration options**: When listing environment variables, feature flags, or system settings with descriptions, valid values, and scope\n- **State or enum definitions**: When clarifying possible states, status codes, or enumerated values used across the system\n- **Input/output specifications**: When defining the structure of data inputs (forms, payloads) or expected outputs (reports, responses) for clarity and validation\n- **Migration or version changes**: When comparing changes across versions, such as deprecated fields, added endpoints, or schema evolution\n\n## 7. Deep Dependency Analysis\nAnalyze component dependencies and relationships:\n- Component coupling and cohesion\n- Direct and indirect dependencies\n- Potential circular dependencies\n- External dependencies and integration points\n- Interface contracts and implementation details\n\n## 8. Documentation Strategy Development\nDevelop a comprehensive documentation strategy:\n- Document structure for both technical and non-technical readers\n- Visualization approach for different aspects of the codebase\n- Balance between detailed explanations and high-level overviews\n- Techniques for presenting technical information accessibly\n\n# DOCUMENT SYNTHESIS\n\nCreate a well-structured document that thoroughly addresses the documentation objective. Organize content logically with clear section headings and consistent formatting. Include:\n\n- Detailed Mermaid diagrams illustrating code relationships, architecture, and data flow\n- Code snippet paths for key implementation patterns\n- Concrete use cases demonstrating functionality\n- Troubleshooting sections addressing common issues\n- Performance analysis and optimization recommendations\n\n## ENHANCED SOURCE TRACKING SYSTEM\n\nThis document uses a multi-level source tracking system for better traceability:\n\n1. **Document-level sources**: All specific files referenced throughout the document are listed at the beginning\n2. **Section-level sources**: Only add when a section directly analyzes or references specific source files\n3. **Diagram-level sources**: Each Mermaid diagram includes sources to the specific files it visualizes\n\n### Document Sources Format\nAt the beginning of each document, list ALL specific files that will be referenced throughout the document:\n\n\u003ccite\u003e\n**Referenced Files in This Document**   \n- [main.go](file://main.go)\n- [auth.go](file://auth/auth.go)\n- [http_server.go](file://server/http_server.go)\n- [config.go](file://config/config.go)\n- [database.go](file://components/database.go)\n- [helper.go](file://util/helper.go)\n- [api.go](file://handlers/api.go)\n\u003c/cite\u003e\n\n### Section Source Format\n**CRITICAL RULE**: Only add \"Section sources\" when the section content directly analyzes, discusses, or quotes from specific source files. \n\n**DO NOT add sources for**   \n- Abstract sections like Introduction, Conclusion, or Overview that don't reference specific code files\n- Conceptual sections that discuss general principles without analyzing specific files\n- Summary sections that aggregate information without direct file analysis\n\n**DO add sources when**   \n- The section analyzes specific source code files\n- The section discusses implementation details from particular files\n- The section includes code snippets from specific files\n- The section explains functionality defined in specific files\n\nWhen a section DOES analyze specific source files, end it with:\n**Section sources**\n- file://main.go#L15-L30\n- file://auth/auth.go#L45-L67\n- file://config/config.go#L12-L25\n\n### Diagram Source Format\n**CRITICAL RULE**: Only add \"Diagram sources\" when the diagram directly visualizes or represents specific source files, code structures, or architectural components that exist in the codebase.\n\n**DO NOT add sources for diagrams that **\n- Show abstract concepts or general workflows\n- Illustrate theoretical architecture without specific file mappings\n- Display conceptual relationships that don't map to actual code files\n- Represent high-level overviews without direct code correspondence\n\n**DO add sources when the diagram **\n- Visualizes actual class relationships from specific source files\n- Shows component interactions defined in particular files\n- Displays data flow between actual modules/files\n- Represents architectural patterns implemented in specific files\n- Maps to actual code structures, imports, or dependencies\n\nWhen a diagram DOES visualize specific source files, format as:\n\n```mermaid\n[Diagram content that maps to actual source files]\n```\n\n**Diagram sources **\n- [main.go](file://main.go#L1-L20)\n- [config.go](file://config/config.go#L10-L30)\n\n**Section sources**\n- [main.go](file://main.go#L1-L50)\n- [go.mod](file://go.mod#L1-L10)\n\n## Core Components\n\n[In-depth analysis of core components with code snippets and explanations]\n\n**Section sources**\n- [main.go](file://main.go#L25-L100)\n- [core.go](file://components/core.go#L15-L80)\n\n## Architecture Overview\n\n[Comprehensive visualization and explanation of the system architecture]\n\n```mermaid\n[Architecture diagram that maps to actual source files]\n```\n\n**Diagram sources **\n- [server.go](file://server/server.go#L10-L50)\n- [handler.go](file://handlers/handler.go#L20-L40)\n\n## Detailed Component Analysis\n\n[Thorough analysis of each key component with diagrams, code snippet paths, and explanations]\n\n### Component A Analysis\n[Component analysis content with specific file analysis]\n\n**IMPORTANT: When analyzing code components, include relevant diagrams **\n\n#### For Object-Oriented Components:\n```mermaid\n[Class diagram showing actual classes, methods, and relationships from the source code]\n```\n\n**Diagram sources **\n- [componentA.go](file://components/componentA.go#L15-L45)\n- [interfaces/componentA.go](file://interfaces/componentA.go#L5-L20)\n\n#### For API/Service Components:\n```mermaid\n[Sequence diagram showing actual function call flow from the source code]\n```\n\n**Diagram sources **\n- [handlers/api.go](file://handlers/api.go#L20-L60)\n- [services/userService.go](file://services/userService.go#L30-L80)\n\n#### For Complex Logic Components:\n```mermaid\n[Flowchart showing actual algorithm implementation from the source code]\n```\n\n**Diagram sources **\n- [algorithms/processor.go](file://algorithms/processor.go#L45-L120)\n- [utils/validator.go](file://utils/validator.go#L15-L50)\n\n**Section sources**\n- [componentA.go](file://components/componentA.go#L1-L100)\n- [componentA_test.go](file://tests/componentA_test.go#L10-L50)\n\n### Conceptual Overview\n[General conceptual content that doesn't analyze specific files]\n\n```mermaid\n[Conceptual workflow diagram not tied to specific source files]\n```\n\n[No sources needed since this diagram shows conceptual workflow, not actual code structure]\n\n[No sources needed since this section doesn't analyze specific source files]\n\n## Dependency Analysis\n\n[Analysis of dependencies between components with visualization]\n\n```mermaid\n[Dependency diagram]\n```\n\n**Diagram sources **\n- [go.mod](file://go.mod#L1-L20)\n- [main.go](file://main.go#L1-L15)\n\n**Section sources**\n- [go.mod](file://go.mod#L1-L30)\n- [go.sum](file://go.sum#L1-L50)\n\n## Performance Considerations\n\n[General performance discussion without specific file analysis]\n[No sources needed since this section provides general guidance]\n\n## Troubleshooting Guide\n\n[Analysis of error handling code and debugging utilities]\n\n**Section sources**\n- [errors.go](file://errors/errors.go#L10-L50)\n- [debug.go](file://debug/debug.go#L15-L40)\n\n## Conclusion\n\n[Summary of findings and recommendations]\n[No sources needed since this section summarizes without analyzing specific files]\n\n# MERMAID DIAGRAM GUIDELINES   \n\n**CRITICAL MERMAID SYNTAX RULES **\n1. **NO custom styling** \n2. **NO triple colons (:::)** - Avoid custom CSS classes\n3. **NO beta features** - Stick to stable, well-supported diagram types\n4. **Use double quotes** for all text labels and descriptions\n5. **Use `\u003cbr/\u003e` for line breaks** within text labels\n6. **Keep node IDs simple** - Use alphanumeric characters and underscores only\n7. **Validate syntax** - Each diagram must be syntactically correct\n\n## Class Diagrams (for Code Analysis)\n```mermaid\nclassDiagram\n    class UserService {\n        +string userID\n        +string email\n        -string password\n        +authenticate(credentials) bool\n        +createUser(userData) User\n        +updateProfile(userID, data) bool\n        -hashPassword(password) string\n        -validateEmail(email) bool\n    }\n    \n    class DatabaseManager {\n        +connection Connection\n        +connect() bool\n        +query(sql) ResultSet\n        +transaction(callback) bool\n        +close() void\n    }\n    \n    class User {\n        +string id\n        +string email\n        +string name\n        +datetime createdAt\n        +isActive() bool\n        +getProfile() UserProfile\n    }\n    \n    class AuthController {\n        -userService UserService\n        +handleLogin(request) Response\n        +handleRegister(request) Response\n        +middleware(request, next) void\n    }\n    \n    UserService --\u003e DatabaseManager : \"uses\"\n    UserService --\u003e User : \"creates\"\n    AuthController --\u003e UserService : \"depends on\"\n    UserService \u003c|-- AdminUserService : \"extends\"\n    User \u003c|-- AdminUser : \"extends\"\n```\n\n## Sequence Diagrams (for Code Flow Analysis)\n```mermaid\nsequenceDiagram\n    participant Client as \"Client App\"\n    participant Controller as \"AuthController\"\n    participant Service as \"UserService\"\n    participant DB as \"DatabaseManager\"\n    participant Cache as \"CacheService\"\n    \n    Client-\u003e\u003eController: POST /api/login\n    Controller-\u003e\u003eController: validateRequest()\n    Controller-\u003e\u003eService: authenticate(credentials)\n    Service-\u003e\u003eDB: findUserByEmail(email)\n    DB--\u003e\u003eService: User object\n    Service-\u003e\u003eService: verifyPassword(password)\n    Service-\u003e\u003eCache: storeSession(userID, token)\n    Cache--\u003e\u003eService: success\n    Service--\u003e\u003eController: AuthResult\n    Controller-\u003e\u003eController: generateJWT(user)\n    Controller--\u003e\u003eClient: {token, user}\n    \n    Note over Client,Cache: User successfully authenticated\n```\n\n## Flowcharts (for Algorithm Analysis)\n```mermaid\nflowchart TD\n    Start([Function Entry]) --\u003e ValidateInput[\"Validate Input Parameters\"]\n    ValidateInput --\u003e InputValid{\"Input Valid?\"}\n    InputValid --\u003e|No| ReturnError[\"Return Error Response\"]\n    InputValid --\u003e|Yes| CheckCache[\"Check Cache\"]\n    CheckCache --\u003e CacheHit{\"Cache Hit?\"}\n    CacheHit --\u003e|Yes| ReturnCache[\"Return Cached Data\"]\n    CacheHit --\u003e|No| QueryDB[\"Query Database\"]\n    QueryDB --\u003e DBResult{\"Query Success?\"}\n    DBResult --\u003e|No| HandleError[\"Handle DB Error\"]\n    DBResult --\u003e|Yes| ProcessData[\"Process Raw Data\"]\n    ProcessData --\u003e UpdateCache[\"Update Cache\"]\n    UpdateCache --\u003e ReturnResult[\"Return Processed Result\"]\n    HandleError --\u003e ReturnError\n    ReturnCache --\u003e End([Function Exit])\n    ReturnResult --\u003e End\n    ReturnError --\u003e End\n```\n\n## Architecture Diagrams\n```mermaid\ngraph TB\n    subgraph \"Frontend\"\n        UI[User Interface]\n        Router[Router]\n    end\n    \n    subgraph \"Backend\"\n        API[API Server]\n        Auth[Auth Service]\n        DB[(Database)]\n    end\n    \n    UI --\u003e API\n    API --\u003e Auth\n    API --\u003e DB\n```\n\n## State Diagrams\n```mermaid\nstateDiagram-v2\n    [*] --\u003e Idle\n    Idle --\u003e Processing : \"start\"\n    Processing --\u003e Success : \"complete\"\n    Processing --\u003e Failed : \"error\"\n    Success --\u003e Idle : \"reset\"\n    Failed --\u003e Idle : \"reset\"\n```\n\n## Data Models Diagram\n```mermaid\nerDiagram\n  USER {\n    uuid id PK\n    string email UK\n    string username UK\n    timestamp created_at\n    timestamp updated_at\n    boolean active\n  }\n\n  PROJECT {\n    uuid id PK\n    string name\n    string description\n    uuid owner_id FK\n    timestamp created_at\n    timestamp updated_at\n    enum status\n  }\n\n  TASK {\n    uuid id PK\n    string title\n    text description\n    uuid project_id FK\n    uuid assignee_id FK\n    timestamp due_date\n    enum priority\n    enum status\n  }\n\n  USER ||--o{ PROJECT : owns\n  USER ||--o{ TASK : assigned_to\n  PROJECT ||--o{ TASK : contains\n```\n\n## Common Mermaid Syntax Errors to Avoid:\n\n### WRONG - Custom Colors and Styling\n```\nclassDiagram\n    class User {\n        name: string\n    }\n    User:::red\n```\n\n### CORRECT - Default Styling\n```mermaid\nclassDiagram\n    class User {\n        +string name\n        +string email\n    }\n```\n\n### WRONG - Invalid Node IDs\n```\nflowchart TD\n    start-node --\u003e end-node\n```\n\n### CORRECT - Simple Node IDs\n```mermaid\nflowchart TD\n    StartNode --\u003e EndNode\n```\n\n### WRONG - Missing Quotes in Labels\n```\nflowchart TD\n    A[Complex Label With Spaces] --\u003e B\n```\n\n### CORRECT - Quoted Labels\n```mermaid\nflowchart TD\n    A[\"Complex Label With Spaces\"] --\u003e B[\"Another Label\"]\n```\n\n# FINAL DOCUMENT STRUCTURE   \n\nYour final document should follow this structure with enhanced source tracking system:\n\n\u003cdocs\u003e\n# [Document Title]\n\n\u003ccite\u003e\n**Referenced Files in This Document **\n- [main.go](file://main.go)\n- [auth.go](file://auth/auth.go)\n- [http_server.go](file://server/http_server.go)\n- [config.go](file://config/config.go)\n- [database.go](file://components/database.go)\n- [helper.go](file://util/helper.go)\n- [api.go](file://handlers/api.go)\n\u003c/cite\u003e\n\n## Table of Contents\n1. [Introduction](#introduction)\n2. [Project Structure](#project-structure)\n3. [Core Components](#core-components)\n4. [Architecture Overview](#architecture-overview)\n5. [Detailed Component Analysis](#detailed-component-analysis)\n6. [Dependency Analysis](#dependency-analysis)\n7. [Performance Considerations](#performance-considerations)\n8. [Troubleshooting Guide](#troubleshooting-guide)\n9. [Conclusion](#conclusion)\n10. [Appendices](#appendices) (if necessary)\n\n## Introduction\n[Comprehensive introduction to the project, its purpose, and high-level overview]\n\n## Project Structure\n[Detailed explanation of the project structure, including diagrams and file organization]\n\n```mermaid\n[Project structure diagram]\n```\n\n**Diagram sources **\n- [main.go](file://main.go#L1-L20)\n- [config.go](file://config/config.go#L10-L30)\n\n**Section sources**\n- [main.go](file://main.go#L1-L50)\n- [go.mod](file://go.mod#L1-L10)\n\n## Core Components\n\n[In-depth analysis of core components with code snippets and explanations]\n\n**Section sources**\n- [main.go](file://main.go#L25-L100)\n- [core.go](file://components/core.go#L15-L80)\n\n## Architecture Overview\n\n[Comprehensive visualization and explanation of the system architecture]\n\n```mermaid\n[Architecture diagram that maps to actual source files]\n```\n\n**Diagram sources **\n- [server.go](file://server/server.go#L10-L50)\n- [handler.go](file://handlers/handler.go#L20-L40)\n\n## Detailed Component Analysis\n\n[Thorough analysis of each key component with diagrams, code snippet paths, and explanations]\n\n### Component A Analysis\n[Component analysis content with specific file analysis]\n\n**IMPORTANT: When analyzing code components, include relevant diagrams **\n\n#### For Object-Oriented Components:\n```mermaid\n[Class diagram showing actual classes, methods, and relationships from the source code]\n```\n\n**Diagram sources **\n- [componentA.go](file://components/componentA.go#L15-L45)\n- [interfaces/componentA.go](file://interfaces/componentA.go#L5-L20)\n\n#### For API/Service Components:\n```mermaid\n[Sequence diagram showing actual function call flow from the source code]\n```\n\n**Diagram sources **\n- [handlers/api.go](file://handlers/api.go#L20-L60)\n- [services/userService.go](file://services/userService.go#L30-L80)\n\n#### For Complex Logic Components:\n```mermaid\n[Flowchart showing actual algorithm implementation from the source code]\n```\n\n**Diagram sources **\n- [algorithms/processor.go](file://algorithms/processor.go#L45-L120)\n- [utils/validator.go](file://utils/validator.go#L15-L50)\n\n**Section sources**\n- [componentA.go](file://components/componentA.go#L1-L100)\n- [componentA_test.go](file://tests/componentA_test.go#L10-L50)\n\n### Conceptual Overview\n[General conceptual content that doesn't analyze specific files]\n\n```mermaid\n[Conceptual workflow diagram not tied to specific source files]\n```\n\n[No sources needed since this diagram shows conceptual workflow, not actual code structure]\n\n[No sources needed since this section doesn't analyze specific source files]\n\n## Dependency Analysis\n\n[Analysis of dependencies between components with visualization]\n\n```mermaid\n[Dependency diagram]\n```\n\n**Diagram sources **\n- [go.mod](file://go.mod#L1-L20)\n- [main.go](file://main.go#L1-L15)\n\n**Section sources**\n- [go.mod](file://go.mod#L1-L30)\n- [go.sum](file://go.sum#L1-L50)\n\n## Performance Considerations\n\n[General performance discussion without specific file analysis]\n[No sources needed since this section provides general guidance]\n\n## Troubleshooting Guide\n\n[Analysis of error handling code and debugging utilities]\n\n**Section sources**\n- [errors.go](file://errors/errors.go#L10-L50)\n- [debug.go](file://debug/debug.go#L15-L40)\n\n## Conclusion\n\n[Summary of findings and recommendations]\n[No sources needed since this section summarizes without analyzing specific files]\n\n\u003c/docs\u003e\n\nIMPORTANT NOTES:\n1. All content must be sourced directly from the repository files - never invent or fabricate information\n2. **Start with Referenced Files**: Begin every document with \"Referenced Files in This Document\" wrapped in `\u003ccite\u003e\u003c/cite\u003e` tags, listing ALL specific files that will be mentioned throughout the document\n3. **Section sources rule**: Only add \"Section sources\" when the section directly analyzes specific source files - do NOT add fake sources - Use file paths, not directory paths\n4. **Diagram sources rule**: Only add \"Diagram sources\" when the diagram directly visualizes specific source files or code structures - do NOT add sources for conceptual diagrams - Use file paths, not directory paths\n5. All file sources MUST use the `file://relativepath/to/file` format with specific line ranges when possible, where `relativepath/to/file` represents the relative file path with respect to the repository root directory\n6. If some files cannot be analyzed, ignore them\n7. Ensure explanations are accessible to users with limited technical knowledge\n8. **Every file in \"Referenced Files in This Document\" must be actually referenced somewhere in the document**\n9. Mermaid diagram do not allow any style colors to be output, only default colors are allowed\n10. Maintain consistency in source formatting throughout the document\n11. **Abstract sections (Introduction, Conclusion, Overview) typically do not need section sources unless they analyze specific files**\n12. **If you cannot find relevant source files for a section, omit \"Section sources\" completely**\n13. **If a diagram shows conceptual information without mapping to actual source files, omit \"Diagram sources\" completely**\n14. **Use specific file names (e.g., main.go, auth.go) rather than directory or conceptual descriptions**\n15. **Include specific line numbers when referencing code sections (e.g., #L15-L30)**\n16. Avoid providing specific code content and examples. Where possible, provide the code snippet path through source as an alternative.\n17. Be as detailed and complete as possible, don't ignore details\n18 .Don't stop if it's incomplete\n19. Validate all diagrams\n20. If the project size is large, you need to retrieve and analyze it first, and then output the full document\n21. Don't use list_dir repeatedly to obtain directory or file information that is already provided in the project structure.\n22. Don't stop to ask, you must complete the task once and for all\n23. Don't hold back. Give it your all.\n\n**IMPORTANT: You MUST respond in English(English) .All levels of headings must comply with the language requirements.**\nTitle Enforcement Rules for Language Conversion\nHeading Hierarchy Requirements:All heading levels starting with #, ##, ###, ** symbols\nLabel Structure Requirements:All descriptive labels within : structures (e.g., key names)\nConversion Mandate:Must be 100% converted to English(English)\n**No matter when, please use the corresponding English(English) when outputting the following strings, ignoring content requirements and sample requirements.**\nTable of Contents\nSection sources\nDiagram sources\n**Language Conversion Enforcement Rules**\nAll content, including headings, labels, citation notes, diagram annotations, and other elements, must be output entirely in English(English).\nSpecial attention: the titles of file references in markdown (the content within **), should be displayed in English(English).","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"user","content":"The following is the core objective of the document:\n\u003cdocumentation_objective\u003e\nDevelop detailed content for the custom hooks used in state management, focusing on useIsMobile and useToast. For useIsMobile, explain the implementation using window.matchMedia to detect screen size changes at the 768px breakpoint, the useState initialization, and the useEffect cleanup to prevent memory leaks. Provide examples of how components use this hook to conditionally render mobile-specific UI elements. For useToast, document the reducer-based state management pattern, action types (ADD_TOAST, DISMISS_TOAST, etc.), and toast queue mechanics with timeout handling. Explain how the toast function generates unique IDs, dispatches actions, and returns dismiss/update methods. Illustrate integration with UI components like Toaster and Sonner in AppContent. Address performance considerations such as event listener cleanup, memory management of toast timeouts, and preventing unnecessary re-renders. Include troubleshooting tips for common issues like toasts not appearing or mobile detection failing on resize.\n\u003c/documentation_objective\u003e\n\n\u003cdocument_title\u003e\nCustom Hooks for State Management\n\u003c/document_title\u003e\n\n\u003cworkspace_path\u003e\n/home/mohjak/syrian-community/sc-dof\n\u003c/workspace_path\u003e\n\n\u003cproject_structure\u003e\n.\n├── public/\n│   ├── manifest.json\n│   ├── robots.txt\n│   └── site.webmanifest\n├── src/\n│   ├── components/\n│   │   ├── ui/\n│   │   │   ├── accordion.tsx\n│   │   │   ├── alert-dialog.tsx\n│   │   │   ├── alert.tsx\n│   │   │   ├── aspect-ratio.tsx\n│   │   │   ├── avatar.tsx\n│   │   │   ├── badge.tsx\n│   │   │   ├── breadcrumb.tsx\n│   │   │   ├── button.tsx\n│   │   │   ├── calendar.tsx\n│   │   │   ├── card.tsx\n│   │   │   ├── carousel.tsx\n│   │   │   ├── chart.tsx\n│   │   │   ├── checkbox.tsx\n│   │   │   ├── collapsible.tsx\n│   │   │   ├── command.tsx\n│   │   │   ├── context-menu.tsx\n│   │   │   ├── dialog.tsx\n│   │   │   ├── drawer.tsx\n│   │   │   ├── dropdown-menu.tsx\n│   │   │   ├── form.tsx\n│   │   │   ├── hover-card.tsx\n│   │   │   ├── input-otp.tsx\n│   │   │   ├── input.tsx\n│   │   │   ├── label.tsx\n│   │   │   ├── menubar.tsx\n│   │   │   ├── navigation-menu.tsx\n│   │   │   ├── pagination.tsx\n│   │   │   ├── popover.tsx\n│   │   │   ├── progress.tsx\n│   │   │   ├── radio-group.tsx\n│   │   │   ├── resizable.tsx\n│   │   │   ├── scroll-area.tsx\n│   │   │   ├── select.tsx\n│   │   │   ├── separator.tsx\n│   │   │   ├── sheet.tsx\n│   │   │   ├── sidebar.tsx\n│   │   │   ├── skeleton.tsx\n│   │   │   ├── slider.tsx\n│   │   │   ├── sonner.tsx\n│   │   │   ├── switch.tsx\n│   │   │   ├── table.tsx\n│   │   │   ├── tabs.tsx\n│   │   │   ├── textarea.tsx\n│   │   │   ├── toast.tsx\n│   │   │   ├── toaster.tsx\n│   │   │   ├── toggle-group.tsx\n│   │   │   ├── toggle.tsx\n│   │   │   ├── tooltip.tsx\n│   │   │   └── use-toast.ts\n│   │   ├── AgendaSection.tsx\n│   │   ├── CountdownTimer.tsx\n│   │   ├── DetailsSection.tsx\n│   │   ├── Footer.tsx\n│   │   ├── GoalsSection.tsx\n│   │   ├── HeroSection.tsx\n│   │   ├── LanguageSwitcher.tsx\n│   │   ├── NavLink.tsx\n│   │   ├── Navbar.tsx\n│   │   ├── OrganizersSection.tsx\n│   │   ├── RegistrationSection.tsx\n│   │   ├── ScrollToTop.tsx\n│   │   ├── SpeakersSection.tsx\n│   │   └── WhySection.tsx\n│   ├── data/\n│   │   └── eventData.ts\n│   ├── hooks/\n│   │   ├── use-mobile.tsx\n│   │   └── use-toast.ts\n│   ├── lib/\n│   │   └── utils.ts\n│   ├── pages/\n│   │   ├── Index.tsx\n│   │   └── NotFound.tsx\n│   ├── App.tsx\n│   ├── index.css\n│   ├── main.tsx\n│   └── vite-env.d.ts\n├── .gitignore\n├── README.md\n├── components.json\n├── eslint.config.js\n├── index.html\n├── package-lock.json\n├── package.json\n├── postcss.config.js\n├── tailwind.config.ts\n├── tsconfig.app.json\n├── tsconfig.json\n├── tsconfig.node.json\n└── vite.config.ts\n\n\u003c/project_structure\u003e\n\nNow begin, analyze the codebase and generate documentation content as required.\n**IMPORTANT**:\n- You MUST respond in English(English). All levels of headings must comply with the language requirements.\n- You MUST not output specific contents of code snippets, use section sources instead.\n- Do not repeatedly retrieve context information that has already been provided.\n- If the specified file has already been provided in the project structure, do not repeatedly use search_file to look for the file.\n- If the specified directory structure has already been provided in the project structure, do not repeatedly use list_dir to look for the directory structure.\n- The final output must contain the \u003cdocs\u003e and \u003c/docs\u003e tags.\n- Always look for opportunities to execute multiple tools in parallel. Before making any tool calls, plan ahead to identify which operations can be run simultaneously rather than sequentially.\n","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"assistant","content":"I'll analyze the codebase to create comprehensive documentation for the custom hooks used in state management, focusing on `useIsMobile` and `useToast`. Let me start by examining the relevant files.\n\n","tool_calls":[{"id":"call_01af2477a08043c4b4e96d15","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/hooks/use-mobile.tsx\", \"view_dependencies\": true}"}},{"id":"call_16f419b405c041a79426dfce","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/hooks/use-toast.ts\", \"view_dependencies\": true}"}},{"id":"call_0008ea43577a4e03af9b037b","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/components/ui/use-toast.ts\", \"view_dependencies\": true}"}},{"id":"call_fd0e1506a8bb44c9a6c37699","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/components/ui/toaster.tsx\", \"view_dependencies\": true}"}},{"id":"call_3b812db5fbf748b88da0d930","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/components/ui/sonner.tsx\", \"view_dependencies\": true}"}}],"response_meta":{"id":"chatcmpl-58cf73b8-c236-4064-ae6e-843df7bba6df","finish_reason":"tool_calls","usage":{"prompt_tokens":11110,"completion_tokens":226,"total_tokens":11336,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx, from line 1-20 (total 20 lines)\n```\n     1→import * as React from \"react\";\n     2→\n     3→const MOBILE_BREAKPOINT = 768;\n     4→\n     5→export function useIsMobile() {\n     6→  const [isMobile, setIsMobile] = React.useState\u003cboolean | undefined\u003e(undefined);\n     7→\n     8→  React.useEffect(() =\u003e {\n     9→    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    10→    const onChange = () =\u003e {\n    11→      setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    12→    };\n    13→    mql.addEventListener(\"change\", onChange);\n    14→    setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    15→    return () =\u003e mql.removeEventListener(\"change\", onChange);\n    16→  }, []);\n    17→\n    18→  return !!isMobile;\n    19→}\n    20→\n\n```\n","name":"read_file","tool_call_id":"call_01af2477a08043c4b4e96d15","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx","fileContent":"     1→import * as React from \"react\";\n     2→\n     3→const MOBILE_BREAKPOINT = 768;\n     4→\n     5→export function useIsMobile() {\n     6→  const [isMobile, setIsMobile] = React.useState\u003cboolean | undefined\u003e(undefined);\n     7→\n     8→  React.useEffect(() =\u003e {\n     9→    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    10→    const onChange = () =\u003e {\n    11→      setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    12→    };\n    13→    mql.addEventListener(\"change\", onChange);\n    14→    setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    15→    return () =\u003e mql.removeEventListener(\"change\", onChange);\n    16→  }, []);\n    17→\n    18→  return !!isMobile;\n    19→}\n    20→\n","startLine":1,"endLine":20,"totalLineCount":20,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx, from line 1-20 (total 20 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts, from line 1-187 (total 187 lines)\n```\n     1→import * as React from \"react\";\n     2→\n     3→import type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n     4→\n     5→const TOAST_LIMIT = 1;\n     6→const TOAST_REMOVE_DELAY = 1000000;\n     7→\n     8→type ToasterToast = ToastProps \u0026 {\n     9→  id: string;\n    10→  title?: React.ReactNode;\n    11→  description?: React.ReactNode;\n    12→  action?: ToastActionElement;\n    13→};\n    14→\n    15→const actionTypes = {\n    16→  ADD_TOAST: \"ADD_TOAST\",\n    17→  UPDATE_TOAST: \"UPDATE_TOAST\",\n    18→  DISMISS_TOAST: \"DISMISS_TOAST\",\n    19→  REMOVE_TOAST: \"REMOVE_TOAST\",\n    20→} as const;\n    21→\n    22→let count = 0;\n    23→\n    24→function genId() {\n    25→  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    26→  return count.toString();\n    27→}\n    28→\n    29→type ActionType = typeof actionTypes;\n    30→\n    31→type Action =\n    32→  | {\n    33→      type: ActionType[\"ADD_TOAST\"];\n    34→      toast: ToasterToast;\n    35→    }\n    36→  | {\n    37→      type: ActionType[\"UPDATE_TOAST\"];\n    38→      toast: Partial\u003cToasterToast\u003e;\n    39→    }\n    40→  | {\n    41→      type: ActionType[\"DISMISS_TOAST\"];\n    42→      toastId?: ToasterToast[\"id\"];\n    43→    }\n    44→  | {\n    45→      type: ActionType[\"REMOVE_TOAST\"];\n    46→      toastId?: ToasterToast[\"id\"];\n    47→    };\n    48→\n    49→interface State {\n    50→  toasts: ToasterToast[];\n    51→}\n    52→\n    53→const toastTimeouts = new Map\u003cstring, ReturnType\u003ctypeof setTimeout\u003e\u003e();\n    54→\n    55→const addToRemoveQueue = (toastId: string) =\u003e {\n    56→  if (toastTimeouts.has(toastId)) {\n    57→    return;\n    58→  }\n    59→\n    60→  const timeout = setTimeout(() =\u003e {\n    61→    toastTimeouts.delete(toastId);\n    62→    dispatch({\n    63→      type: \"REMOVE_TOAST\",\n    64→      toastId: toastId,\n    65→    });\n    66→  }, TOAST_REMOVE_DELAY);\n    67→\n    68→  toastTimeouts.set(toastId, timeout);\n    69→};\n    70→\n    71→export const reducer = (state: State, action: Action): State =\u003e {\n    72→  switch (action.type) {\n    73→    case \"ADD_TOAST\":\n    74→      return {\n    75→        ...state,\n    76→        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n    77→      };\n    78→\n    79→    case \"UPDATE_TOAST\":\n    80→      return {\n    81→        ...state,\n    82→        toasts: state.toasts.map((t) =\u003e (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n    83→      };\n    84→\n    85→    case \"DISMISS_TOAST\": {\n    86→      const { toastId } = action;\n    87→\n    88→      // ! Side effects ! - This could be extracted into a dismissToast() action,\n    89→      // but I'll keep it here for simplicity\n    90→      if (toastId) {\n    91→        addToRemoveQueue(toastId);\n    92→      } else {\n    93→        state.toasts.forEach((toast) =\u003e {\n    94→          addToRemoveQueue(toast.id);\n    95→        });\n    96→      }\n    97→\n    98→      return {\n    99→        ...state,\n   100→        toasts: state.toasts.map((t) =\u003e\n   101→          t.id === toastId || toastId === undefined\n   102→            ? {\n   103→                ...t,\n   104→                open: false,\n   105→              }\n   106→            : t,\n   107→        ),\n   108→      };\n   109→    }\n   110→    case \"REMOVE_TOAST\":\n   111→      if (action.toastId === undefined) {\n   112→        return {\n   113→          ...state,\n   114→          toasts: [],\n   115→        };\n   116→      }\n   117→      return {\n   118→        ...state,\n   119→        toasts: state.toasts.filter((t) =\u003e t.id !== action.toastId),\n   120→      };\n   121→  }\n   122→};\n   123→\n   124→const listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n   125→\n   126→let memoryState: State = { toasts: [] };\n   127→\n   128→function dispatch(action: Action) {\n   129→  memoryState = reducer(memoryState, action);\n   130→  listeners.forEach((listener) =\u003e {\n   131→    listener(memoryState);\n   132→  });\n   133→}\n   134→\n   135→type Toast = Omit\u003cToasterToast, \"id\"\u003e;\n   136→\n   137→function toast({ ...props }: Toast) {\n   138→  const id = genId();\n   139→\n   140→  const update = (props: ToasterToast) =\u003e\n   141→    dispatch({\n   142→      type: \"UPDATE_TOAST\",\n   143→      toast: { ...props, id },\n   144→    });\n   145→  const dismiss = () =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n   146→\n   147→  dispatch({\n   148→    type: \"ADD_TOAST\",\n   149→    toast: {\n   150→      ...props,\n   151→      id,\n   152→      open: true,\n   153→      onOpenChange: (open) =\u003e {\n   154→        if (!open) dismiss();\n   155→      },\n   156→    },\n   157→  });\n   158→\n   159→  return {\n   160→    id: id,\n   161→    dismiss,\n   162→    update,\n   163→  };\n   164→}\n   165→\n   166→function useToast() {\n   167→  const [state, setState] = React.useState\u003cState\u003e(memoryState);\n   168→\n   169→  React.useEffect(() =\u003e {\n   170→    listeners.push(setState);\n   171→    return () =\u003e {\n   172→      const index = listeners.indexOf(setState);\n   173→      if (index \u003e -1) {\n   174→        listeners.splice(index, 1);\n   175→      }\n   176→    };\n   177→  }, [state]);\n   178→\n   179→  return {\n   180→    ...state,\n   181→    toast,\n   182→    dismiss: (toastId?: string) =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId }),\n   183→  };\n   184→}\n   185→\n   186→export { useToast, toast };\n   187→\n\n```\n","name":"read_file","tool_call_id":"call_16f419b405c041a79426dfce","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts","fileContent":"     1→import * as React from \"react\";\n     2→\n     3→import type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n     4→\n     5→const TOAST_LIMIT = 1;\n     6→const TOAST_REMOVE_DELAY = 1000000;\n     7→\n     8→type ToasterToast = ToastProps \u0026 {\n     9→  id: string;\n    10→  title?: React.ReactNode;\n    11→  description?: React.ReactNode;\n    12→  action?: ToastActionElement;\n    13→};\n    14→\n    15→const actionTypes = {\n    16→  ADD_TOAST: \"ADD_TOAST\",\n    17→  UPDATE_TOAST: \"UPDATE_TOAST\",\n    18→  DISMISS_TOAST: \"DISMISS_TOAST\",\n    19→  REMOVE_TOAST: \"REMOVE_TOAST\",\n    20→} as const;\n    21→\n    22→let count = 0;\n    23→\n    24→function genId() {\n    25→  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    26→  return count.toString();\n    27→}\n    28→\n    29→type ActionType = typeof actionTypes;\n    30→\n    31→type Action =\n    32→  | {\n    33→      type: ActionType[\"ADD_TOAST\"];\n    34→      toast: ToasterToast;\n    35→    }\n    36→  | {\n    37→      type: ActionType[\"UPDATE_TOAST\"];\n    38→      toast: Partial\u003cToasterToast\u003e;\n    39→    }\n    40→  | {\n    41→      type: ActionType[\"DISMISS_TOAST\"];\n    42→      toastId?: ToasterToast[\"id\"];\n    43→    }\n    44→  | {\n    45→      type: ActionType[\"REMOVE_TOAST\"];\n    46→      toastId?: ToasterToast[\"id\"];\n    47→    };\n    48→\n    49→interface State {\n    50→  toasts: ToasterToast[];\n    51→}\n    52→\n    53→const toastTimeouts = new Map\u003cstring, ReturnType\u003ctypeof setTimeout\u003e\u003e();\n    54→\n    55→const addToRemoveQueue = (toastId: string) =\u003e {\n    56→  if (toastTimeouts.has(toastId)) {\n    57→    return;\n    58→  }\n    59→\n    60→  const timeout = setTimeout(() =\u003e {\n    61→    toastTimeouts.delete(toastId);\n    62→    dispatch({\n    63→      type: \"REMOVE_TOAST\",\n    64→      toastId: toastId,\n    65→    });\n    66→  }, TOAST_REMOVE_DELAY);\n    67→\n    68→  toastTimeouts.set(toastId, timeout);\n    69→};\n    70→\n    71→export const reducer = (state: State, action: Action): State =\u003e {\n    72→  switch (action.type) {\n    73→    case \"ADD_TOAST\":\n    74→      return {\n    75→        ...state,\n    76→        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n    77→      };\n    78→\n    79→    case \"UPDATE_TOAST\":\n    80→      return {\n    81→        ...state,\n    82→        toasts: state.toasts.map((t) =\u003e (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n    83→      };\n    84→\n    85→    case \"DISMISS_TOAST\": {\n    86→      const { toastId } = action;\n    87→\n    88→      // ! Side effects ! - This could be extracted into a dismissToast() action,\n    89→      // but I'll keep it here for simplicity\n    90→      if (toastId) {\n    91→        addToRemoveQueue(toastId);\n    92→      } else {\n    93→        state.toasts.forEach((toast) =\u003e {\n    94→          addToRemoveQueue(toast.id);\n    95→        });\n    96→      }\n    97→\n    98→      return {\n    99→        ...state,\n   100→        toasts: state.toasts.map((t) =\u003e\n   101→          t.id === toastId || toastId === undefined\n   102→            ? {\n   103→                ...t,\n   104→                open: false,\n   105→              }\n   106→            : t,\n   107→        ),\n   108→      };\n   109→    }\n   110→    case \"REMOVE_TOAST\":\n   111→      if (action.toastId === undefined) {\n   112→        return {\n   113→          ...state,\n   114→          toasts: [],\n   115→        };\n   116→      }\n   117→      return {\n   118→        ...state,\n   119→        toasts: state.toasts.filter((t) =\u003e t.id !== action.toastId),\n   120→      };\n   121→  }\n   122→};\n   123→\n   124→const listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n   125→\n   126→let memoryState: State = { toasts: [] };\n   127→\n   128→function dispatch(action: Action) {\n   129→  memoryState = reducer(memoryState, action);\n   130→  listeners.forEach((listener) =\u003e {\n   131→    listener(memoryState);\n   132→  });\n   133→}\n   134→\n   135→type Toast = Omit\u003cToasterToast, \"id\"\u003e;\n   136→\n   137→function toast({ ...props }: Toast) {\n   138→  const id = genId();\n   139→\n   140→  const update = (props: ToasterToast) =\u003e\n   141→    dispatch({\n   142→      type: \"UPDATE_TOAST\",\n   143→      toast: { ...props, id },\n   144→    });\n   145→  const dismiss = () =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n   146→\n   147→  dispatch({\n   148→    type: \"ADD_TOAST\",\n   149→    toast: {\n   150→      ...props,\n   151→      id,\n   152→      open: true,\n   153→      onOpenChange: (open) =\u003e {\n   154→        if (!open) dismiss();\n   155→      },\n   156→    },\n   157→  });\n   158→\n   159→  return {\n   160→    id: id,\n   161→    dismiss,\n   162→    update,\n   163→  };\n   164→}\n   165→\n   166→function useToast() {\n   167→  const [state, setState] = React.useState\u003cState\u003e(memoryState);\n   168→\n   169→  React.useEffect(() =\u003e {\n   170→    listeners.push(setState);\n   171→    return () =\u003e {\n   172→      const index = listeners.indexOf(setState);\n   173→      if (index \u003e -1) {\n   174→        listeners.splice(index, 1);\n   175→      }\n   176→    };\n   177→  }, [state]);\n   178→\n   179→  return {\n   180→    ...state,\n   181→    toast,\n   182→    dismiss: (toastId?: string) =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId }),\n   183→  };\n   184→}\n   185→\n   186→export { useToast, toast };\n   187→\n","startLine":1,"endLine":187,"totalLineCount":187,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts, from line 1-187 (total 187 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/use-toast.ts, from line 1-4 (total 4 lines)\n```\n     1→import { useToast, toast } from \"@/hooks/use-toast\";\n     2→\n     3→export { useToast, toast };\n     4→\n\n```\n","name":"read_file","tool_call_id":"call_0008ea43577a4e03af9b037b","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/use-toast.ts","fileContent":"     1→import { useToast, toast } from \"@/hooks/use-toast\";\n     2→\n     3→export { useToast, toast };\n     4→\n","startLine":1,"endLine":4,"totalLineCount":4,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/use-toast.ts, from line 1-4 (total 4 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx, from line 1-25 (total 25 lines)\n```\n     1→import { useToast } from \"@/hooks/use-toast\";\n     2→import { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n     3→\n     4→export function Toaster() {\n     5→  const { toasts } = useToast();\n     6→\n     7→  return (\n     8→    \u003cToastProvider\u003e\n     9→      {toasts.map(function ({ id, title, description, action, ...props }) {\n    10→        return (\n    11→          \u003cToast key={id} {...props}\u003e\n    12→            \u003cdiv className=\"grid gap-1\"\u003e\n    13→              {title \u0026\u0026 \u003cToastTitle\u003e{title}\u003c/ToastTitle\u003e}\n    14→              {description \u0026\u0026 \u003cToastDescription\u003e{description}\u003c/ToastDescription\u003e}\n    15→            \u003c/div\u003e\n    16→            {action}\n    17→            \u003cToastClose /\u003e\n    18→          \u003c/Toast\u003e\n    19→        );\n    20→      })}\n    21→      \u003cToastViewport /\u003e\n    22→    \u003c/ToastProvider\u003e\n    23→  );\n    24→}\n    25→\n\n```\n","name":"read_file","tool_call_id":"call_fd0e1506a8bb44c9a6c37699","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx","fileContent":"     1→import { useToast } from \"@/hooks/use-toast\";\n     2→import { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n     3→\n     4→export function Toaster() {\n     5→  const { toasts } = useToast();\n     6→\n     7→  return (\n     8→    \u003cToastProvider\u003e\n     9→      {toasts.map(function ({ id, title, description, action, ...props }) {\n    10→        return (\n    11→          \u003cToast key={id} {...props}\u003e\n    12→            \u003cdiv className=\"grid gap-1\"\u003e\n    13→              {title \u0026\u0026 \u003cToastTitle\u003e{title}\u003c/ToastTitle\u003e}\n    14→              {description \u0026\u0026 \u003cToastDescription\u003e{description}\u003c/ToastDescription\u003e}\n    15→            \u003c/div\u003e\n    16→            {action}\n    17→            \u003cToastClose /\u003e\n    18→          \u003c/Toast\u003e\n    19→        );\n    20→      })}\n    21→      \u003cToastViewport /\u003e\n    22→    \u003c/ToastProvider\u003e\n    23→  );\n    24→}\n    25→\n","startLine":1,"endLine":25,"totalLineCount":25,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx, from line 1-25 (total 25 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/sonner.tsx, from line 1-28 (total 28 lines)\n```\n     1→import { useTheme } from \"next-themes\";\n     2→import { Toaster as Sonner, toast } from \"sonner\";\n     3→\n     4→type ToasterProps = React.ComponentProps\u003ctypeof Sonner\u003e;\n     5→\n     6→const Toaster = ({ ...props }: ToasterProps) =\u003e {\n     7→  const { theme = \"system\" } = useTheme();\n     8→\n     9→  return (\n    10→    \u003cSonner\n    11→      theme={theme as ToasterProps[\"theme\"]}\n    12→      className=\"toaster group\"\n    13→      toastOptions={{\n    14→        classNames: {\n    15→          toast:\n    16→            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n    17→          description: \"group-[.toast]:text-muted-foreground\",\n    18→          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n    19→          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n    20→        },\n    21→      }}\n    22→      {...props}\n    23→    /\u003e\n    24→  );\n    25→};\n    26→\n    27→export { Toaster, toast };\n    28→\n\n```\n","name":"read_file","tool_call_id":"call_3b812db5fbf748b88da0d930","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/sonner.tsx","fileContent":"     1→import { useTheme } from \"next-themes\";\n     2→import { Toaster as Sonner, toast } from \"sonner\";\n     3→\n     4→type ToasterProps = React.ComponentProps\u003ctypeof Sonner\u003e;\n     5→\n     6→const Toaster = ({ ...props }: ToasterProps) =\u003e {\n     7→  const { theme = \"system\" } = useTheme();\n     8→\n     9→  return (\n    10→    \u003cSonner\n    11→      theme={theme as ToasterProps[\"theme\"]}\n    12→      className=\"toaster group\"\n    13→      toastOptions={{\n    14→        classNames: {\n    15→          toast:\n    16→            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n    17→          description: \"group-[.toast]:text-muted-foreground\",\n    18→          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n    19→          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n    20→        },\n    21→      }}\n    22→      {...props}\n    23→    /\u003e\n    24→  );\n    25→};\n    26→\n    27→export { Toaster, toast };\n    28→\n","startLine":1,"endLine":28,"totalLineCount":28,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/sonner.tsx, from line 1-28 (total 28 lines)\n"},"Status":"FINISHED","cost":1}},"reasoning_content_signature":""},{"role":"assistant","content":"Now let me examine the toast component and AppContent to understand how these hooks are integrated:\n\n","tool_calls":[{"id":"call_8aa6417403aa4c54a41a32a0","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/components/ui/toast.tsx\", \"view_dependencies\": true}"}},{"id":"call_c4bc499fe01445e58078f904","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/App.tsx\", \"view_dependencies\": true}"}},{"id":"call_a2fcbc97c7f04a27b7c03167","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/main.tsx\", \"view_dependencies\": true}"}}],"response_meta":{"id":"chatcmpl-706a7b82-faf2-4831-b3c9-f06adf79e2fc","finish_reason":"tool_calls","usage":{"prompt_tokens":14532,"completion_tokens":125,"total_tokens":14657,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx, from line 1-112 (total 112 lines)\n```\n     1→import * as React from \"react\";\n     2→import * as ToastPrimitives from \"@radix-ui/react-toast\";\n     3→import { cva, type VariantProps } from \"class-variance-authority\";\n     4→import { X } from \"lucide-react\";\n     5→\n     6→import { cn } from \"@/lib/utils\";\n     7→\n     8→const ToastProvider = ToastPrimitives.Provider;\n     9→\n    10→const ToastViewport = React.forwardRef\u003c\n    11→  React.ElementRef\u003ctypeof ToastPrimitives.Viewport\u003e,\n    12→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Viewport\u003e\n    13→\u003e(({ className, ...props }, ref) =\u003e (\n    14→  \u003cToastPrimitives.Viewport\n    15→    ref={ref}\n    16→    className={cn(\n    17→      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n    18→      className,\n    19→    )}\n    20→    {...props}\n    21→  /\u003e\n    22→));\n    23→ToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n    24→\n    25→const toastVariants = cva(\n    26→  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n    27→  {\n    28→    variants: {\n    29→      variant: {\n    30→        default: \"border bg-background text-foreground\",\n    31→        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n    32→      },\n    33→    },\n    34→    defaultVariants: {\n    35→      variant: \"default\",\n    36→    },\n    37→  },\n    38→);\n    39→\n    40→const Toast = React.forwardRef\u003c\n    41→  React.ElementRef\u003ctypeof ToastPrimitives.Root\u003e,\n    42→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Root\u003e \u0026 VariantProps\u003ctypeof toastVariants\u003e\n    43→\u003e(({ className, variant, ...props }, ref) =\u003e {\n    44→  return \u003cToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} /\u003e;\n    45→});\n    46→Toast.displayName = ToastPrimitives.Root.displayName;\n    47→\n    48→const ToastAction = React.forwardRef\u003c\n    49→  React.ElementRef\u003ctypeof ToastPrimitives.Action\u003e,\n    50→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Action\u003e\n    51→\u003e(({ className, ...props }, ref) =\u003e (\n    52→  \u003cToastPrimitives.Action\n    53→    ref={ref}\n    54→    className={cn(\n    55→      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n    56→      className,\n    57→    )}\n    58→    {...props}\n    59→  /\u003e\n    60→));\n    61→ToastAction.displayName = ToastPrimitives.Action.displayName;\n    62→\n    63→const ToastClose = React.forwardRef\u003c\n    64→  React.ElementRef\u003ctypeof ToastPrimitives.Close\u003e,\n    65→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Close\u003e\n    66→\u003e(({ className, ...props }, ref) =\u003e (\n    67→  \u003cToastPrimitives.Close\n    68→    ref={ref}\n    69→    className={cn(\n    70→      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n    71→      className,\n    72→    )}\n    73→    toast-close=\"\"\n    74→    {...props}\n    75→  \u003e\n    76→    \u003cX className=\"h-4 w-4\" /\u003e\n    77→  \u003c/ToastPrimitives.Close\u003e\n    78→));\n    79→ToastClose.displayName = ToastPrimitives.Close.displayName;\n    80→\n    81→const ToastTitle = React.forwardRef\u003c\n    82→  React.ElementRef\u003ctypeof ToastPrimitives.Title\u003e,\n    83→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Title\u003e\n    84→\u003e(({ className, ...props }, ref) =\u003e (\n    85→  \u003cToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} /\u003e\n    86→));\n    87→ToastTitle.displayName = ToastPrimitives.Title.displayName;\n    88→\n    89→const ToastDescription = React.forwardRef\u003c\n    90→  React.ElementRef\u003ctypeof ToastPrimitives.Description\u003e,\n    91→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Description\u003e\n    92→\u003e(({ className, ...props }, ref) =\u003e (\n    93→  \u003cToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} /\u003e\n    94→));\n    95→ToastDescription.displayName = ToastPrimitives.Description.displayName;\n    96→\n    97→type ToastProps = React.ComponentPropsWithoutRef\u003ctypeof Toast\u003e;\n    98→\n    99→type ToastActionElement = React.ReactElement\u003ctypeof ToastAction\u003e;\n   100→\n   101→export {\n   102→  type ToastProps,\n   103→  type ToastActionElement,\n   104→  ToastProvider,\n   105→  ToastViewport,\n   106→  Toast,\n   107→  ToastTitle,\n   108→  ToastDescription,\n   109→  ToastClose,\n   110→  ToastAction,\n   111→};\n   112→\n\n```\n","name":"read_file","tool_call_id":"call_8aa6417403aa4c54a41a32a0","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","fileContent":"     1→import * as React from \"react\";\n     2→import * as ToastPrimitives from \"@radix-ui/react-toast\";\n     3→import { cva, type VariantProps } from \"class-variance-authority\";\n     4→import { X } from \"lucide-react\";\n     5→\n     6→import { cn } from \"@/lib/utils\";\n     7→\n     8→const ToastProvider = ToastPrimitives.Provider;\n     9→\n    10→const ToastViewport = React.forwardRef\u003c\n    11→  React.ElementRef\u003ctypeof ToastPrimitives.Viewport\u003e,\n    12→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Viewport\u003e\n    13→\u003e(({ className, ...props }, ref) =\u003e (\n    14→  \u003cToastPrimitives.Viewport\n    15→    ref={ref}\n    16→    className={cn(\n    17→      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n    18→      className,\n    19→    )}\n    20→    {...props}\n    21→  /\u003e\n    22→));\n    23→ToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n    24→\n    25→const toastVariants = cva(\n    26→  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n    27→  {\n    28→    variants: {\n    29→      variant: {\n    30→        default: \"border bg-background text-foreground\",\n    31→        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n    32→      },\n    33→    },\n    34→    defaultVariants: {\n    35→      variant: \"default\",\n    36→    },\n    37→  },\n    38→);\n    39→\n    40→const Toast = React.forwardRef\u003c\n    41→  React.ElementRef\u003ctypeof ToastPrimitives.Root\u003e,\n    42→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Root\u003e \u0026 VariantProps\u003ctypeof toastVariants\u003e\n    43→\u003e(({ className, variant, ...props }, ref) =\u003e {\n    44→  return \u003cToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} /\u003e;\n    45→});\n    46→Toast.displayName = ToastPrimitives.Root.displayName;\n    47→\n    48→const ToastAction = React.forwardRef\u003c\n    49→  React.ElementRef\u003ctypeof ToastPrimitives.Action\u003e,\n    50→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Action\u003e\n    51→\u003e(({ className, ...props }, ref) =\u003e (\n    52→  \u003cToastPrimitives.Action\n    53→    ref={ref}\n    54→    className={cn(\n    55→      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n    56→      className,\n    57→    )}\n    58→    {...props}\n    59→  /\u003e\n    60→));\n    61→ToastAction.displayName = ToastPrimitives.Action.displayName;\n    62→\n    63→const ToastClose = React.forwardRef\u003c\n    64→  React.ElementRef\u003ctypeof ToastPrimitives.Close\u003e,\n    65→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Close\u003e\n    66→\u003e(({ className, ...props }, ref) =\u003e (\n    67→  \u003cToastPrimitives.Close\n    68→    ref={ref}\n    69→    className={cn(\n    70→      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n    71→      className,\n    72→    )}\n    73→    toast-close=\"\"\n    74→    {...props}\n    75→  \u003e\n    76→    \u003cX className=\"h-4 w-4\" /\u003e\n    77→  \u003c/ToastPrimitives.Close\u003e\n    78→));\n    79→ToastClose.displayName = ToastPrimitives.Close.displayName;\n    80→\n    81→const ToastTitle = React.forwardRef\u003c\n    82→  React.ElementRef\u003ctypeof ToastPrimitives.Title\u003e,\n    83→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Title\u003e\n    84→\u003e(({ className, ...props }, ref) =\u003e (\n    85→  \u003cToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} /\u003e\n    86→));\n    87→ToastTitle.displayName = ToastPrimitives.Title.displayName;\n    88→\n    89→const ToastDescription = React.forwardRef\u003c\n    90→  React.ElementRef\u003ctypeof ToastPrimitives.Description\u003e,\n    91→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Description\u003e\n    92→\u003e(({ className, ...props }, ref) =\u003e (\n    93→  \u003cToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} /\u003e\n    94→));\n    95→ToastDescription.displayName = ToastPrimitives.Description.displayName;\n    96→\n    97→type ToastProps = React.ComponentPropsWithoutRef\u003ctypeof Toast\u003e;\n    98→\n    99→type ToastActionElement = React.ReactElement\u003ctypeof ToastAction\u003e;\n   100→\n   101→export {\n   102→  type ToastProps,\n   103→  type ToastActionElement,\n   104→  ToastProvider,\n   105→  ToastViewport,\n   106→  Toast,\n   107→  ToastTitle,\n   108→  ToastDescription,\n   109→  ToastClose,\n   110→  ToastAction,\n   111→};\n   112→\n","startLine":1,"endLine":112,"totalLineCount":112,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx, from line 1-112 (total 112 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/App.tsx, from line 1-43 (total 43 lines)\n```\n     1→import { Toaster } from \"@/components/ui/toaster\";\n     2→import { Toaster as Sonner } from \"@/components/ui/sonner\";\n     3→import { TooltipProvider } from \"@/components/ui/tooltip\";\n     4→import { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n     5→import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n     6→import { LanguageProvider, useLanguage } from \"@/contexts/LanguageContext\";\n     7→import Index from \"./pages/Index\";\n     8→import NotFound from \"./pages/NotFound\";\n     9→\n    10→const queryClient = new QueryClient();\n    11→\n    12→const AppContent = () =\u003e {\n    13→  const { isRTL, language } = useLanguage();\n    14→  \n    15→  // Use Koufiya for Arabic, Roboto for English and Turkish\n    16→  const fontClass = language === 'ar' ? 'font-koufiya' : 'font-roboto';\n    17→  \n    18→  return (\n    19→    \u003cdiv dir={isRTL ? 'rtl' : 'ltr'} className={fontClass}\u003e\n    20→      \u003cToaster /\u003e\n    21→      \u003cSonner /\u003e\n    22→      \u003cBrowserRouter\u003e\n    23→        \u003cRoutes\u003e\n    24→          \u003cRoute path=\"/\" element={\u003cIndex /\u003e} /\u003e\n    25→          {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL \"*\" ROUTE */}\n    26→          \u003cRoute path=\"*\" element={\u003cNotFound /\u003e} /\u003e\n    27→        \u003c/Routes\u003e\n    28→      \u003c/BrowserRouter\u003e\n    29→    \u003c/div\u003e\n    30→  );\n    31→};\n    32→\n    33→const App = () =\u003e (\n    34→  \u003cQueryClientProvider client={queryClient}\u003e\n    35→    \u003cTooltipProvider\u003e\n    36→      \u003cLanguageProvider\u003e\n    37→        \u003cAppContent /\u003e\n    38→      \u003c/LanguageProvider\u003e\n    39→    \u003c/TooltipProvider\u003e\n    40→  \u003c/QueryClientProvider\u003e\n    41→);\n    42→\n    43→export default App;\n\n```\n","name":"read_file","tool_call_id":"call_c4bc499fe01445e58078f904","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/App.tsx","fileContent":"     1→import { Toaster } from \"@/components/ui/toaster\";\n     2→import { Toaster as Sonner } from \"@/components/ui/sonner\";\n     3→import { TooltipProvider } from \"@/components/ui/tooltip\";\n     4→import { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n     5→import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n     6→import { LanguageProvider, useLanguage } from \"@/contexts/LanguageContext\";\n     7→import Index from \"./pages/Index\";\n     8→import NotFound from \"./pages/NotFound\";\n     9→\n    10→const queryClient = new QueryClient();\n    11→\n    12→const AppContent = () =\u003e {\n    13→  const { isRTL, language } = useLanguage();\n    14→  \n    15→  // Use Koufiya for Arabic, Roboto for English and Turkish\n    16→  const fontClass = language === 'ar' ? 'font-koufiya' : 'font-roboto';\n    17→  \n    18→  return (\n    19→    \u003cdiv dir={isRTL ? 'rtl' : 'ltr'} className={fontClass}\u003e\n    20→      \u003cToaster /\u003e\n    21→      \u003cSonner /\u003e\n    22→      \u003cBrowserRouter\u003e\n    23→        \u003cRoutes\u003e\n    24→          \u003cRoute path=\"/\" element={\u003cIndex /\u003e} /\u003e\n    25→          {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL \"*\" ROUTE */}\n    26→          \u003cRoute path=\"*\" element={\u003cNotFound /\u003e} /\u003e\n    27→        \u003c/Routes\u003e\n    28→      \u003c/BrowserRouter\u003e\n    29→    \u003c/div\u003e\n    30→  );\n    31→};\n    32→\n    33→const App = () =\u003e (\n    34→  \u003cQueryClientProvider client={queryClient}\u003e\n    35→    \u003cTooltipProvider\u003e\n    36→      \u003cLanguageProvider\u003e\n    37→        \u003cAppContent /\u003e\n    38→      \u003c/LanguageProvider\u003e\n    39→    \u003c/TooltipProvider\u003e\n    40→  \u003c/QueryClientProvider\u003e\n    41→);\n    42→\n    43→export default App;\n","startLine":1,"endLine":43,"totalLineCount":43,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/App.tsx, from line 1-43 (total 43 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/main.tsx, from line 1-6 (total 6 lines)\n```\n     1→import { createRoot } from \"react-dom/client\";\n     2→import App from \"./App.tsx\";\n     3→import \"./index.css\";\n     4→\n     5→createRoot(document.getElementById(\"root\")!).render(\u003cApp /\u003e);\n     6→\n\n```\n","name":"read_file","tool_call_id":"call_a2fcbc97c7f04a27b7c03167","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/main.tsx","fileContent":"     1→import { createRoot } from \"react-dom/client\";\n     2→import App from \"./App.tsx\";\n     3→import \"./index.css\";\n     4→\n     5→createRoot(document.getElementById(\"root\")!).render(\u003cApp /\u003e);\n     6→\n","startLine":1,"endLine":6,"totalLineCount":6,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/main.tsx, from line 1-6 (total 6 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"assistant","content":"Let me also check how the hooks are used in practice by examining some components:\n\n","tool_calls":[{"id":"call_6f25f328c0cc46c49e2de925","type":"function","function":{"name":"search_codebase","arguments":"{\"query\": \"useIsMobile usage in components\", \"key_words\": \"useIsMobile,components,hooks\"}"}},{"id":"call_0ac3c818aff241d4a33ea893","type":"function","function":{"name":"search_codebase","arguments":"{\"query\": \"useToast usage examples\", \"key_words\": \"useToast,toast,examples\"}"}}],"response_meta":{"id":"chatcmpl-bced9301-fd85-4878-8a1c-229ad38e14c6","finish_reason":"tool_calls","usage":{"prompt_tokens":17110,"completion_tokens":98,"total_tokens":17208,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"tool","content":"\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx\" startLine=\"1\" endLine=\"19\"\u003e\n     1→import * as React from \"react\";\n     2→\n     3→const MOBILE_BREAKPOINT = 768;\n     4→\n     5→export function useIsMobile() {\n     6→  const [isMobile, setIsMobile] = React.useState\u003cboolean | undefined\u003e(undefined);\n     7→\n     8→  React.useEffect(() =\u003e {\n     9→    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    10→    const onChange = () =\u003e {\n    11→      setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    12→    };\n    13→    mql.addEventListener(\"change\", onChange);\n    14→    setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    15→    return () =\u003e mql.removeEventListener(\"change\", onChange);\n    16→  }, []);\n    17→\n    18→  return !!isMobile;\n    19→}\n\u003c/search_result\u003e\n","name":"search_codebase","tool_call_id":"call_6f25f328c0cc46c49e2de925","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"type":"semantic_search","result":{"documents":[{"content":"import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState\u003cboolean | undefined\u003e(undefined);\n\n  React.useEffect(() =\u003e {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () =\u003e {\n      setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    return () =\u003e mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx","end_line":18,"type":"","score":1}],"detailed_documents":null,"truncated_documents":null,"abbreviate_documents":null}},"Status":"FINISHED","cost":358}},"reasoning_content_signature":""},{"role":"tool","content":"\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx\" startLine=\"1\" endLine=\"111\"\u003e\n     1→import * as React from \"react\";\n     2→import * as ToastPrimitives from \"@radix-ui/react-toast\";\n     3→import { cva, type VariantProps } from \"class-variance-authority\";\n     4→import { X } from \"lucide-react\";\n     5→\n     6→import { cn } from \"@/lib/utils\";\n     7→\n     8→const ToastProvider = ToastPrimitives.Provider;\n     9→\n    10→const ToastViewport = React.forwardRef\u003c\n    11→  React.ElementRef\u003ctypeof ToastPrimitives.Viewport\u003e,\n    12→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Viewport\u003e\n    13→\u003e(({ className, ...props }, ref) =\u003e (\n    14→  \u003cToastPrimitives.Viewport\n    15→    ref={ref}\n    16→    className={cn(\n    17→      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n    18→      className,\n    19→    )}\n    20→    {...props}\n    21→  /\u003e\n    22→));\n    23→ToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n    23→ToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n    25→const toastVariants = cva(\n    26→  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n    27→  {\n    28→    variants: {\n    29→      variant: {\n    30→        default: \"border bg-background text-foreground\",\n    31→        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n    32→      },\n    33→    },\n    34→    defaultVariants: {\n    35→      variant: \"default\",\n    36→    },\n    37→  },\n    38→);\n    39→\n    40→const Toast = React.forwardRef\u003c\n    41→  React.ElementRef\u003ctypeof ToastPrimitives.Root\u003e,\n    42→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Root\u003e \u0026 VariantProps\u003ctypeof toastVariants\u003e\n    43→\u003e(({ className, variant, ...props }, ref) =\u003e {\n    44→  return \u003cToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} /\u003e;\n    45→});\n    46→Toast.displayName = ToastPrimitives.Root.displayName;\n    46→Toast.displayName = ToastPrimitives.Root.displayName;\n    48→const ToastAction = React.forwardRef\u003c\n    49→  React.ElementRef\u003ctypeof ToastPrimitives.Action\u003e,\n    50→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Action\u003e\n    51→\u003e(({ className, ...props }, ref) =\u003e (\n    52→  \u003cToastPrimitives.Action\n    53→    ref={ref}\n    54→    className={cn(\n    55→      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n    56→      className,\n    57→    )}\n    58→    {...props}\n    59→  /\u003e\n    60→));\n    61→ToastAction.displayName = ToastPrimitives.Action.displayName;\n    61→ToastAction.displayName = ToastPrimitives.Action.displayName;\n    63→const ToastClose = React.forwardRef\u003c\n    64→  React.ElementRef\u003ctypeof ToastPrimitives.Close\u003e,\n    65→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Close\u003e\n    66→\u003e(({ className, ...props }, ref) =\u003e (\n    67→  \u003cToastPrimitives.Close\n    68→    ref={ref}\n    69→    className={cn(\n    70→      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n    71→      className,\n    72→    )}\n    73→    toast-close=\"\"\n    74→    {...props}\n    75→  \u003e\n    76→    \u003cX className=\"h-4 w-4\" /\u003e\n    77→  \u003c/ToastPrimitives.Close\u003e\n    78→));\n    79→ToastClose.displayName = ToastPrimitives.Close.displayName;\n    80→\n    81→const ToastTitle = React.forwardRef\u003c\n    82→  React.ElementRef\u003ctypeof ToastPrimitives.Title\u003e,\n    83→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Title\u003e\n    84→\u003e(({ className, ...props }, ref) =\u003e (\n    85→  \u003cToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} /\u003e\n    86→));\n    87→ToastTitle.displayName = ToastPrimitives.Title.displayName;\n    87→ToastTitle.displayName = ToastPrimitives.Title.displayName;\n    89→const ToastDescription = React.forwardRef\u003c\n    90→  React.ElementRef\u003ctypeof ToastPrimitives.Description\u003e,\n    91→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Description\u003e\n    92→\u003e(({ className, ...props }, ref) =\u003e (\n    93→  \u003cToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} /\u003e\n    94→));\n    95→ToastDescription.displayName = ToastPrimitives.Description.displayName;\n    96→\n    97→type ToastProps = React.ComponentPropsWithoutRef\u003ctypeof Toast\u003e;\n    98→\n    99→type ToastActionElement = React.ReactElement\u003ctypeof ToastAction\u003e;\n   100→\n   101→export {\n   102→  type ToastProps,\n   103→  type ToastActionElement,\n   104→  ToastProvider,\n   105→  ToastViewport,\n   106→  Toast,\n   107→  ToastTitle,\n   108→  ToastDescription,\n   109→  ToastClose,\n   110→  ToastAction,\n   111→};\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts\" startLine=\"1\" endLine=\"186\"\u003e\n     1→import * as React from \"react\";\n     2→\n     3→import type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n     4→\n     5→const TOAST_LIMIT = 1;\n     6→const TOAST_REMOVE_DELAY = 1000000;\n     7→\n     8→type ToasterToast = ToastProps \u0026 {\n     9→  id: string;\n    10→  title?: React.ReactNode;\n    11→  description?: React.ReactNode;\n    12→  action?: ToastActionElement;\n    13→};\n    14→\n    15→const actionTypes = {\n    16→  ADD_TOAST: \"ADD_TOAST\",\n    17→  UPDATE_TOAST: \"UPDATE_TOAST\",\n    18→  DISMISS_TOAST: \"DISMISS_TOAST\",\n    19→  REMOVE_TOAST: \"REMOVE_TOAST\",\n    20→} as const;\n    21→\n    22→let count = 0;\n    23→\n    24→function genId() {\n    25→  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    26→  return count.toString();\n    27→}\n    28→\n    29→type ActionType = typeof actionTypes;\n    30→\n    31→type Action =\n    32→  | {\n    33→      type: ActionType[\"ADD_TOAST\"];\n    34→      toast: ToasterToast;\n    35→    }\n    36→  | {\n    37→      type: ActionType[\"UPDATE_TOAST\"];\n    38→      toast: Partial\u003cToasterToast\u003e;\n    39→    }\n    40→  | {\n    41→      type: ActionType[\"DISMISS_TOAST\"];\n    42→      toastId?: ToasterToast[\"id\"];\n    43→    }\n    44→  | {\n    45→      type: ActionType[\"REMOVE_TOAST\"];\n    46→      toastId?: ToasterToast[\"id\"];\n    47→    };\n    48→\n    49→interface State {\n    50→  toasts: ToasterToast[];\n    51→}\n    52→\n    53→const toastTimeouts = new Map\u003cstring, ReturnType\u003ctypeof setTimeout\u003e\u003e();\n    54→\n    55→const addToRemoveQueue = (toastId: string) =\u003e {\n    56→  if (toastTimeouts.has(toastId)) {\n    57→    return;\n    58→  }\n    59→\n    60→  const timeout = setTimeout(() =\u003e {\n    61→    toastTimeouts.delete(toastId);\n    62→    dispatch({\n    63→      type: \"REMOVE_TOAST\",\n    64→      toastId: toastId,\n    65→    });\n    66→  }, TOAST_REMOVE_DELAY);\n    67→\n    68→  toastTimeouts.set(toastId, timeout);\n    69→};\n    70→\n    71→export const reducer = (state: State, action: Action): State =\u003e {\n    72→  switch (action.type) {\n    73→    case \"ADD_TOAST\":\n    74→      return {\n    75→        ...state,\n    76→        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n    77→      };\n    78→\n    79→    case \"UPDATE_TOAST\":\n    80→      return {\n    81→        ...state,\n    82→        toasts: state.toasts.map((t) =\u003e (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n    83→      };\n    84→\n    85→    case \"DISMISS_TOAST\": {\n    86→      const { toastId } = action;\n    87→\n    88→      // ! Side effects ! - This could be extracted into a dismissToast() action,\n    89→      // but I'll keep it here for simplicity\n    90→      if (toastId) {\n    91→        addToRemoveQueue(toastId);\n    92→      } else {\n    93→        state.toasts.forEach((toast) =\u003e {\n    94→          addToRemoveQueue(toast.id);\n    95→        });\n    96→      }\n    97→\n    98→      return {\n    99→        ...state,\n   100→        toasts: state.toasts.map((t) =\u003e\n   101→          t.id === toastId || toastId === undefined\n   102→            ? {\n   103→                ...t,\n   104→                open: false,\n   105→              }\n   106→            : t,\n   107→        ),\n   108→      };\n   109→    }\n   110→    case \"REMOVE_TOAST\":\n   111→      if (action.toastId === undefined) {\n   112→        return {\n   113→          ...state,\n   114→          toasts: [],\n   115→        };\n   116→      }\n   117→      return {\n   118→        ...state,\n   119→        toasts: state.toasts.filter((t) =\u003e t.id !== action.toastId),\n   120→      };\n   121→  }\n   122→};\n   123→\n   124→const listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n   125→\n   126→let memoryState: State = { toasts: [] };\n   127→\n   128→function dispatch(action: Action) {\n   129→  memoryState = reducer(memoryState, action);\n   130→  listeners.forEach((listener) =\u003e {\n   131→    listener(memoryState);\n   132→  });\n   133→}\n   134→\n   135→type Toast = Omit\u003cToasterToast, \"id\"\u003e;\n   136→\n   137→function toast({ ...props }: Toast) {\n   138→  const id = genId();\n   139→\n   140→  const update = (props: ToasterToast) =\u003e\n   141→    dispatch({\n   142→      type: \"UPDATE_TOAST\",\n   143→      toast: { ...props, id },\n   144→    });\n   145→  const dismiss = () =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n   146→\n   147→  dispatch({\n   148→    type: \"ADD_TOAST\",\n   149→    toast: {\n   150→      ...props,\n   151→      id,\n   152→      open: true,\n   153→      onOpenChange: (open) =\u003e {\n   154→        if (!open) dismiss();\n   155→      },\n   156→    },\n   157→  });\n   158→\n   159→  return {\n   160→    id: id,\n   161→    dismiss,\n   162→    update,\n   163→  };\n   164→}\n   165→\n   166→function useToast() {\n   167→  const [state, setState] = React.useState\u003cState\u003e(memoryState);\n   168→\n   169→  React.useEffect(() =\u003e {\n   170→    listeners.push(setState);\n   171→    return () =\u003e {\n   172→      const index = listeners.indexOf(setState);\n   173→      if (index \u003e -1) {\n   174→        listeners.splice(index, 1);\n   175→      }\n   176→    };\n   177→  }, [state]);\n   178→\n   179→  return {\n   180→    ...state,\n   181→    toast,\n   182→    dismiss: (toastId?: string) =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId }),\n   183→  };\n   184→}\n   185→\n   186→export { useToast, toast };\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx\" startLine=\"1\" endLine=\"24\"\u003e\n     1→import { useToast } from \"@/hooks/use-toast\";\n     2→import { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n     3→\n     4→export function Toaster() {\n     5→  const { toasts } = useToast();\n     6→\n     7→  return (\n     8→    \u003cToastProvider\u003e\n     9→      {toasts.map(function ({ id, title, description, action, ...props }) {\n    10→        return (\n    11→          \u003cToast key={id} {...props}\u003e\n    12→            \u003cdiv className=\"grid gap-1\"\u003e\n    13→              {title \u0026\u0026 \u003cToastTitle\u003e{title}\u003c/ToastTitle\u003e}\n    14→              {description \u0026\u0026 \u003cToastDescription\u003e{description}\u003c/ToastDescription\u003e}\n    15→            \u003c/div\u003e\n    16→            {action}\n    17→            \u003cToastClose /\u003e\n    18→          \u003c/Toast\u003e\n    19→        );\n    20→      })}\n    21→      \u003cToastViewport /\u003e\n    22→    \u003c/ToastProvider\u003e\n    23→  );\n    24→}\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/components/ui/use-toast.ts\" startLine=\"1\" endLine=\"3\"\u003e\n     1→import { useToast, toast } from \"@/hooks/use-toast\";\n     2→\n     3→export { useToast, toast };\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/chat/agents/deepwiki/deepwiki_output/ai_response_catalogue_structure_merge_20251216_105105.txt\" startLine=\"359\" endLine=\"363\"\u003e\n   359→            \"name\": \"useToast Hook\",\n   360→            \"dependent_file\": [\n   361→              \"src/hooks/use-toast.ts\"\n   362→            ],\n   363→            \"prompt\": \"Create comprehensive documentation for the useToast custom hook, detailing its reducer-based state management architecture. Explain the core state structure (ToasterToast) with fields like id, title, description, action, and open status. Document the four action types (ADD_TOAST, UPDATE_TOAST, DISMISS_TOAST, REMOVE_TOAST) and their role in managing toast lifecycle. Describe the singleton pattern using memoryState and global listeners array to enable toast functionality without React context. Explain the toast() function's role in generating unique IDs via genId(), dispatching ADD_TOAST actions, and returning dismiss/update methods for imperative control. Detail the timeout mechanism in addToRemoveQueue that automatically removes toasts after TOAST_REMOVE_DELAY. Illustrate integration with UI components such as Toaster and Sonner in the component tree. Provide usage examples for success/error toasts in form submissions. Address performance considerations including memory management of timeout references, prevention of toast queue overflow via TOAST_LIMIT, and efficient state updates. Include troubleshooting tips for issues like toasts not disappearing, duplicate toasts appearing, or memory leaks from uncleaned timeouts. Document testing strategies for this hook using Jest timers and mock dispatch verification.\",\n\u003c/search_result\u003e\n","name":"search_codebase","tool_call_id":"call_0ac3c818aff241d4a33ea893","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"type":"semantic_search","result":{"documents":[{"content":"const listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) =\u003e {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit\u003cToasterToast, \"id\"\u003e;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =\u003e\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) =\u003e {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState\u003cState\u003e(memoryState);\n\n  React.useEffect(() =\u003e {\n    listeners.push(setState);\n    return () =\u003e {\n      const index = listeners.indexOf(setState);\n      if (index \u003e -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts","start_line":123,"end_line":185,"type":"","score":1},{"content":"  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State =\u003e {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =\u003e (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) =\u003e {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =\u003e\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) =\u003e t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n\nlet memoryState: State = { toasts: [] };","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts","start_line":67,"end_line":125,"type":"","score":0.912503},{"content":"import * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps \u0026 {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial\u003cToasterToast\u003e;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map\u003cstring, ReturnType\u003ctypeof setTimeout\u003e\u003e();\n\nconst addToRemoveQueue = (toastId: string) =\u003e {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() =\u003e {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts","end_line":68,"type":"","score":0.81361353},{"content":"import { useToast } from \"@/hooks/use-toast\";\nimport { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n\nexport function Toaster() {\n  const { toasts } = useToast();\n\n  return (\n    \u003cToastProvider\u003e\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          \u003cToast key={id} {...props}\u003e\n            \u003cdiv className=\"grid gap-1\"\u003e\n              {title \u0026\u0026 \u003cToastTitle\u003e{title}\u003c/ToastTitle\u003e}\n              {description \u0026\u0026 \u003cToastDescription\u003e{description}\u003c/ToastDescription\u003e}\n            \u003c/div\u003e\n            {action}\n            \u003cToastClose /\u003e\n          \u003c/Toast\u003e\n        );\n      })}\n      \u003cToastViewport /\u003e\n    \u003c/ToastProvider\u003e\n  );\n}","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx","end_line":23,"type":"","score":0.76882005},{"content":"import { useToast, toast } from \"@/hooks/use-toast\";\n\nexport { useToast, toast };","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/use-toast.ts","end_line":2,"type":"","score":0.76776576},{"content":"            \"name\": \"useToast Hook\",\n            \"dependent_file\": [\n              \"src/hooks/use-toast.ts\"\n            ],\n            \"prompt\": \"Create comprehensive documentation for the useToast custom hook, detailing its reducer-based state management architecture. Explain the core state structure (ToasterToast) with fields like id, title, description, action, and open status. Document the four action types (ADD_TOAST, UPDATE_TOAST, DISMISS_TOAST, REMOVE_TOAST) and their role in managing toast lifecycle. Describe the singleton pattern using memoryState and global listeners array to enable toast functionality without React context. Explain the toast() function's role in generating unique IDs via genId(), dispatching ADD_TOAST actions, and returning dismiss/update methods for imperative control. Detail the timeout mechanism in addToRemoveQueue that automatically removes toasts after TOAST_REMOVE_DELAY. Illustrate integration with UI components such as Toaster and Sonner in the component tree. Provide usage examples for success/error toasts in form submissions. Address performance considerations including memory management of timeout references, prevention of toast queue overflow via TOAST_LIMIT, and efficient state updates. Include troubleshooting tips for issues like toasts not disappearing, duplicate toasts appearing, or memory leaks from uncleaned timeouts. Document testing strategies for this hook using Jest timers and mock dispatch verification.\",","file_path":"/home/mohjak/syrian-community/sc-dof/chat/agents/deepwiki/deepwiki_output/ai_response_catalogue_structure_merge_20251216_105105.txt","start_line":358,"end_line":362,"type":"","score":0.7026384},{"content":"const ToastAction = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Action\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Action\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  /\u003e\n));\nToastAction.displayName = ToastPrimitives.Action.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":47,"end_line":60,"type":"","score":0.69917107},{"content":"import * as React from \"react\";\nimport * as ToastPrimitives from \"@radix-ui/react-toast\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ToastProvider = ToastPrimitives.Provider;\n\nconst ToastViewport = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Viewport\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Viewport\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className,\n    )}\n    {...props}\n  /\u003e\n));\nToastViewport.displayName = ToastPrimitives.Viewport.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","end_line":22,"type":"","score":0.6894772},{"content":"const ToastDescription = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Description\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Description\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} /\u003e\n));\nToastDescription.displayName = ToastPrimitives.Description.displayName;\n\ntype ToastProps = React.ComponentPropsWithoutRef\u003ctypeof Toast\u003e;\n\ntype ToastActionElement = React.ReactElement\u003ctypeof ToastAction\u003e;\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n};","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":88,"end_line":110,"type":"","score":0.6711699},{"content":"const ToastClose = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Close\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Close\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className,\n    )}\n    toast-close=\"\"\n    {...props}\n  \u003e\n    \u003cX className=\"h-4 w-4\" /\u003e\n  \u003c/ToastPrimitives.Close\u003e\n));\nToastClose.displayName = ToastPrimitives.Close.displayName;\n\nconst ToastTitle = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Title\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Title\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} /\u003e\n));\nToastTitle.displayName = ToastPrimitives.Title.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":62,"end_line":86,"type":"","score":0.6000445},{"content":"const toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst Toast = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Root\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Root\u003e \u0026 VariantProps\u003ctypeof toastVariants\u003e\n\u003e(({ className, variant, ...props }, ref) =\u003e {\n  return \u003cToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} /\u003e;\n});\nToast.displayName = ToastPrimitives.Root.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":24,"end_line":45,"type":"","score":0.59132373}],"detailed_documents":null,"truncated_documents":null,"abbreviate_documents":null}},"Status":"FINISHED","cost":445}},"reasoning_content_signature":""},{"role":"assistant","content":"Let me search for actual usage examples in the components:\n\n","tool_calls":[{"id":"call_1285cf1aefea4f22ae495edd","type":"function","function":{"name":"search_codebase","arguments":"{\"query\": \"useToast hook usage in components\", \"key_words\": \"useToast,components,usage\"}"}},{"id":"call_7793c6e991d841f78ddf1614","type":"function","function":{"name":"search_codebase","arguments":"{\"query\": \"useIsMobile hook usage examples\", \"key_words\": \"useIsMobile,components,usage\"}"}}],"response_meta":{"id":"chatcmpl-1c17cd63-abe6-415a-a037-215812af0b61","finish_reason":"tool_calls","usage":{"prompt_tokens":22158,"completion_tokens":95,"total_tokens":22253,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"tool","content":"\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts\" startLine=\"1\" endLine=\"186\"\u003e\n     1→import * as React from \"react\";\n     2→\n     3→import type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n     4→\n     5→const TOAST_LIMIT = 1;\n     6→const TOAST_REMOVE_DELAY = 1000000;\n     7→\n     8→type ToasterToast = ToastProps \u0026 {\n     9→  id: string;\n    10→  title?: React.ReactNode;\n    11→  description?: React.ReactNode;\n    12→  action?: ToastActionElement;\n    13→};\n    14→\n    15→const actionTypes = {\n    16→  ADD_TOAST: \"ADD_TOAST\",\n    17→  UPDATE_TOAST: \"UPDATE_TOAST\",\n    18→  DISMISS_TOAST: \"DISMISS_TOAST\",\n    19→  REMOVE_TOAST: \"REMOVE_TOAST\",\n    20→} as const;\n    21→\n    22→let count = 0;\n    23→\n    24→function genId() {\n    25→  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n    26→  return count.toString();\n    27→}\n    28→\n    29→type ActionType = typeof actionTypes;\n    30→\n    31→type Action =\n    32→  | {\n    33→      type: ActionType[\"ADD_TOAST\"];\n    34→      toast: ToasterToast;\n    35→    }\n    36→  | {\n    37→      type: ActionType[\"UPDATE_TOAST\"];\n    38→      toast: Partial\u003cToasterToast\u003e;\n    39→    }\n    40→  | {\n    41→      type: ActionType[\"DISMISS_TOAST\"];\n    42→      toastId?: ToasterToast[\"id\"];\n    43→    }\n    44→  | {\n    45→      type: ActionType[\"REMOVE_TOAST\"];\n    46→      toastId?: ToasterToast[\"id\"];\n    47→    };\n    48→\n    49→interface State {\n    50→  toasts: ToasterToast[];\n    51→}\n    52→\n    53→const toastTimeouts = new Map\u003cstring, ReturnType\u003ctypeof setTimeout\u003e\u003e();\n    54→\n    55→const addToRemoveQueue = (toastId: string) =\u003e {\n    56→  if (toastTimeouts.has(toastId)) {\n    57→    return;\n    58→  }\n    59→\n    60→  const timeout = setTimeout(() =\u003e {\n    61→    toastTimeouts.delete(toastId);\n    62→    dispatch({\n    63→      type: \"REMOVE_TOAST\",\n    64→      toastId: toastId,\n    65→    });\n    66→  }, TOAST_REMOVE_DELAY);\n    67→\n    68→  toastTimeouts.set(toastId, timeout);\n    69→};\n    70→\n    71→export const reducer = (state: State, action: Action): State =\u003e {\n    72→  switch (action.type) {\n    73→    case \"ADD_TOAST\":\n    74→      return {\n    75→        ...state,\n    76→        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n    77→      };\n    78→\n    79→    case \"UPDATE_TOAST\":\n    80→      return {\n    81→        ...state,\n    82→        toasts: state.toasts.map((t) =\u003e (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n    83→      };\n    84→\n    85→    case \"DISMISS_TOAST\": {\n    86→      const { toastId } = action;\n    87→\n    88→      // ! Side effects ! - This could be extracted into a dismissToast() action,\n    89→      // but I'll keep it here for simplicity\n    90→      if (toastId) {\n    91→        addToRemoveQueue(toastId);\n    92→      } else {\n    93→        state.toasts.forEach((toast) =\u003e {\n    94→          addToRemoveQueue(toast.id);\n    95→        });\n    96→      }\n    97→\n    98→      return {\n    99→        ...state,\n   100→        toasts: state.toasts.map((t) =\u003e\n   101→          t.id === toastId || toastId === undefined\n   102→            ? {\n   103→                ...t,\n   104→                open: false,\n   105→              }\n   106→            : t,\n   107→        ),\n   108→      };\n   109→    }\n   110→    case \"REMOVE_TOAST\":\n   111→      if (action.toastId === undefined) {\n   112→        return {\n   113→          ...state,\n   114→          toasts: [],\n   115→        };\n   116→      }\n   117→      return {\n   118→        ...state,\n   119→        toasts: state.toasts.filter((t) =\u003e t.id !== action.toastId),\n   120→      };\n   121→  }\n   122→};\n   123→\n   124→const listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n   125→\n   126→let memoryState: State = { toasts: [] };\n   127→\n   128→function dispatch(action: Action) {\n   129→  memoryState = reducer(memoryState, action);\n   130→  listeners.forEach((listener) =\u003e {\n   131→    listener(memoryState);\n   132→  });\n   133→}\n   134→\n   135→type Toast = Omit\u003cToasterToast, \"id\"\u003e;\n   136→\n   137→function toast({ ...props }: Toast) {\n   138→  const id = genId();\n   139→\n   140→  const update = (props: ToasterToast) =\u003e\n   141→    dispatch({\n   142→      type: \"UPDATE_TOAST\",\n   143→      toast: { ...props, id },\n   144→    });\n   145→  const dismiss = () =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n   146→\n   147→  dispatch({\n   148→    type: \"ADD_TOAST\",\n   149→    toast: {\n   150→      ...props,\n   151→      id,\n   152→      open: true,\n   153→      onOpenChange: (open) =\u003e {\n   154→        if (!open) dismiss();\n   155→      },\n   156→    },\n   157→  });\n   158→\n   159→  return {\n   160→    id: id,\n   161→    dismiss,\n   162→    update,\n   163→  };\n   164→}\n   165→\n   166→function useToast() {\n   167→  const [state, setState] = React.useState\u003cState\u003e(memoryState);\n   168→\n   169→  React.useEffect(() =\u003e {\n   170→    listeners.push(setState);\n   171→    return () =\u003e {\n   172→      const index = listeners.indexOf(setState);\n   173→      if (index \u003e -1) {\n   174→        listeners.splice(index, 1);\n   175→      }\n   176→    };\n   177→  }, [state]);\n   178→\n   179→  return {\n   180→    ...state,\n   181→    toast,\n   182→    dismiss: (toastId?: string) =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId }),\n   183→  };\n   184→}\n   185→\n   186→export { useToast, toast };\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/components/ui/use-toast.ts\" startLine=\"1\" endLine=\"3\"\u003e\n     1→import { useToast, toast } from \"@/hooks/use-toast\";\n     2→\n     3→export { useToast, toast };\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx\" startLine=\"1\" endLine=\"24\"\u003e\n     1→import { useToast } from \"@/hooks/use-toast\";\n     2→import { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n     3→\n     4→export function Toaster() {\n     5→  const { toasts } = useToast();\n     6→\n     7→  return (\n     8→    \u003cToastProvider\u003e\n     9→      {toasts.map(function ({ id, title, description, action, ...props }) {\n    10→        return (\n    11→          \u003cToast key={id} {...props}\u003e\n    12→            \u003cdiv className=\"grid gap-1\"\u003e\n    13→              {title \u0026\u0026 \u003cToastTitle\u003e{title}\u003c/ToastTitle\u003e}\n    14→              {description \u0026\u0026 \u003cToastDescription\u003e{description}\u003c/ToastDescription\u003e}\n    15→            \u003c/div\u003e\n    16→            {action}\n    17→            \u003cToastClose /\u003e\n    18→          \u003c/Toast\u003e\n    19→        );\n    20→      })}\n    21→      \u003cToastViewport /\u003e\n    22→    \u003c/ToastProvider\u003e\n    23→  );\n    24→}\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/chat/agents/deepwiki/deepwiki_output/ai_response_catalogue_structure_merge_20251216_105105.txt\" startLine=\"339\" endLine=\"363\"\u003e\n   339→        \"name\": \"Custom Hooks for State Management\",\n   340→        \"dependent_file\": [\n   341→          \"src/hooks/use-mobile.tsx\",\n   342→          \"src/hooks/use-toast.ts\"\n   343→        ],\n   344→        \"prompt\": \"Develop detailed content for the custom hooks used in state management, focusing on useIsMobile and useToast. For useIsMobile, explain the implementation using window.matchMedia to detect screen size changes at the 768px breakpoint, the useState initialization, and the useEffect cleanup to prevent memory leaks. Provide examples of how components use this hook to conditionally render mobile-specific UI elements. For useToast, document the reducer-based state management pattern, action types (ADD_TOAST, DISMISS_TOAST, etc.), and toast queue mechanics with timeout handling. Explain how the toast function generates unique IDs, dispatches actions, and returns dismiss/update methods. Illustrate integration with UI components like Toaster and Sonner in AppContent. Address performance considerations such as event listener cleanup, memory management of toast timeouts, and preventing unnecessary re-renders. Include troubleshooting tips for common issues like toasts not appearing or mobile detection failing on resize.\",\n   345→        \"has_children\": \"YES\",\n   346→        \"children\": [\n   347→          {\n   348→            \"title\": \"use-mobile-hook\",\n   349→            \"name\": \"useIsMobile Hook\",\n   350→            \"dependent_file\": [\n   351→              \"src/hooks/use-mobile.tsx\"\n   352→            ],\n   352→            ],\n   353→            \"prompt\": \"Develop detailed content for the useIsMobile custom hook, focusing on its implementation using window.matchMedia to detect screen size changes at the 768px breakpoint. Explain the useState initialization with undefined default state and how it transitions to a boolean value after mount. Detail the useEffect setup that adds and removes the 'change' event listener to prevent memory leaks. Provide concrete examples of how components like Navbar and Sidebar use this hook to conditionally render mobile-specific navigation patterns such as drawers or collapsible menus. Illustrate the responsive design integration with Tailwind's breakpoint system. Address performance considerations including efficient event listener management and prevention of unnecessary re-renders through memoization. Include troubleshooting guidance for common issues such as incorrect mobile detection on initial load, failure to update on window resize, and hydration mismatches in SSR environments. Document best practices for testing this hook using Jest and React Testing Library with mocked matchMedia.\",\n   354→            \"has_children\": \"NO\",\n   355→            \"children_plan\": \"The feature is too simple. The current document is sufficient to cover the introduction, no need to split.\"\n   356→          },\n   357→          {\n   359→            \"name\": \"useToast Hook\",\n   360→            \"dependent_file\": [\n   361→              \"src/hooks/use-toast.ts\"\n   362→            ],\n   363→            \"prompt\": \"Create comprehensive documentation for the useToast custom hook, detailing its reducer-based state management architecture. Explain the core state structure (ToasterToast) with fields like id, title, description, action, and open status. Document the four action types (ADD_TOAST, UPDATE_TOAST, DISMISS_TOAST, REMOVE_TOAST) and their role in managing toast lifecycle. Describe the singleton pattern using memoryState and global listeners array to enable toast functionality without React context. Explain the toast() function's role in generating unique IDs via genId(), dispatching ADD_TOAST actions, and returning dismiss/update methods for imperative control. Detail the timeout mechanism in addToRemoveQueue that automatically removes toasts after TOAST_REMOVE_DELAY. Illustrate integration with UI components such as Toaster and Sonner in the component tree. Provide usage examples for success/error toasts in form submissions. Address performance considerations including memory management of timeout references, prevention of toast queue overflow via TOAST_LIMIT, and efficient state updates. Include troubleshooting tips for issues like toasts not disappearing, duplicate toasts appearing, or memory leaks from uncleaned timeouts. Document testing strategies for this hook using Jest timers and mock dispatch verification.\",\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx\" startLine=\"1\" endLine=\"111\"\u003e\n     1→import * as React from \"react\";\n     2→import * as ToastPrimitives from \"@radix-ui/react-toast\";\n     3→import { cva, type VariantProps } from \"class-variance-authority\";\n     4→import { X } from \"lucide-react\";\n     5→\n     6→import { cn } from \"@/lib/utils\";\n     7→\n     8→const ToastProvider = ToastPrimitives.Provider;\n     9→\n    10→const ToastViewport = React.forwardRef\u003c\n    11→  React.ElementRef\u003ctypeof ToastPrimitives.Viewport\u003e,\n    12→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Viewport\u003e\n    13→\u003e(({ className, ...props }, ref) =\u003e (\n    14→  \u003cToastPrimitives.Viewport\n    15→    ref={ref}\n    16→    className={cn(\n    17→      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n    18→      className,\n    19→    )}\n    20→    {...props}\n    21→  /\u003e\n    22→));\n    23→ToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n    23→ToastViewport.displayName = ToastPrimitives.Viewport.displayName;\n    25→const toastVariants = cva(\n    26→  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n    27→  {\n    28→    variants: {\n    29→      variant: {\n    30→        default: \"border bg-background text-foreground\",\n    31→        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n    32→      },\n    33→    },\n    34→    defaultVariants: {\n    35→      variant: \"default\",\n    36→    },\n    37→  },\n    38→);\n    39→\n    40→const Toast = React.forwardRef\u003c\n    41→  React.ElementRef\u003ctypeof ToastPrimitives.Root\u003e,\n    42→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Root\u003e \u0026 VariantProps\u003ctypeof toastVariants\u003e\n    43→\u003e(({ className, variant, ...props }, ref) =\u003e {\n    44→  return \u003cToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} /\u003e;\n    45→});\n    46→Toast.displayName = ToastPrimitives.Root.displayName;\n    46→Toast.displayName = ToastPrimitives.Root.displayName;\n    48→const ToastAction = React.forwardRef\u003c\n    49→  React.ElementRef\u003ctypeof ToastPrimitives.Action\u003e,\n    50→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Action\u003e\n    51→\u003e(({ className, ...props }, ref) =\u003e (\n    52→  \u003cToastPrimitives.Action\n    53→    ref={ref}\n    54→    className={cn(\n    55→      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n    56→      className,\n    57→    )}\n    58→    {...props}\n    59→  /\u003e\n    60→));\n    61→ToastAction.displayName = ToastPrimitives.Action.displayName;\n    61→ToastAction.displayName = ToastPrimitives.Action.displayName;\n    63→const ToastClose = React.forwardRef\u003c\n    64→  React.ElementRef\u003ctypeof ToastPrimitives.Close\u003e,\n    65→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Close\u003e\n    66→\u003e(({ className, ...props }, ref) =\u003e (\n    67→  \u003cToastPrimitives.Close\n    68→    ref={ref}\n    69→    className={cn(\n    70→      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n    71→      className,\n    72→    )}\n    73→    toast-close=\"\"\n    74→    {...props}\n    75→  \u003e\n    76→    \u003cX className=\"h-4 w-4\" /\u003e\n    77→  \u003c/ToastPrimitives.Close\u003e\n    78→));\n    79→ToastClose.displayName = ToastPrimitives.Close.displayName;\n    80→\n    81→const ToastTitle = React.forwardRef\u003c\n    82→  React.ElementRef\u003ctypeof ToastPrimitives.Title\u003e,\n    83→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Title\u003e\n    84→\u003e(({ className, ...props }, ref) =\u003e (\n    85→  \u003cToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} /\u003e\n    86→));\n    87→ToastTitle.displayName = ToastPrimitives.Title.displayName;\n    87→ToastTitle.displayName = ToastPrimitives.Title.displayName;\n    89→const ToastDescription = React.forwardRef\u003c\n    90→  React.ElementRef\u003ctypeof ToastPrimitives.Description\u003e,\n    91→  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Description\u003e\n    92→\u003e(({ className, ...props }, ref) =\u003e (\n    93→  \u003cToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} /\u003e\n    94→));\n    95→ToastDescription.displayName = ToastPrimitives.Description.displayName;\n    96→\n    97→type ToastProps = React.ComponentPropsWithoutRef\u003ctypeof Toast\u003e;\n    98→\n    99→type ToastActionElement = React.ReactElement\u003ctypeof ToastAction\u003e;\n   100→\n   101→export {\n   102→  type ToastProps,\n   103→  type ToastActionElement,\n   104→  ToastProvider,\n   105→  ToastViewport,\n   106→  Toast,\n   107→  ToastTitle,\n   108→  ToastDescription,\n   109→  ToastClose,\n   110→  ToastAction,\n   111→};\n\u003c/search_result\u003e\n","name":"search_codebase","tool_call_id":"call_1285cf1aefea4f22ae495edd","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"type":"semantic_search","result":{"documents":[{"content":"const listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) =\u003e {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit\u003cToasterToast, \"id\"\u003e;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =\u003e\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) =\u003e {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState\u003cState\u003e(memoryState);\n\n  React.useEffect(() =\u003e {\n    listeners.push(setState);\n    return () =\u003e {\n      const index = listeners.indexOf(setState);\n      if (index \u003e -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) =\u003e dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts","start_line":123,"end_line":185,"type":"","score":1},{"content":"import { useToast, toast } from \"@/hooks/use-toast\";\n\nexport { useToast, toast };","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/use-toast.ts","end_line":2,"type":"","score":0.9426756},{"content":"  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State =\u003e {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =\u003e (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) =\u003e {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =\u003e\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) =\u003e t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array\u003c(state: State) =\u003e void\u003e = [];\n\nlet memoryState: State = { toasts: [] };","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts","start_line":67,"end_line":125,"type":"","score":0.8675084},{"content":"import { useToast } from \"@/hooks/use-toast\";\nimport { Toast, ToastClose, ToastDescription, ToastProvider, ToastTitle, ToastViewport } from \"@/components/ui/toast\";\n\nexport function Toaster() {\n  const { toasts } = useToast();\n\n  return (\n    \u003cToastProvider\u003e\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          \u003cToast key={id} {...props}\u003e\n            \u003cdiv className=\"grid gap-1\"\u003e\n              {title \u0026\u0026 \u003cToastTitle\u003e{title}\u003c/ToastTitle\u003e}\n              {description \u0026\u0026 \u003cToastDescription\u003e{description}\u003c/ToastDescription\u003e}\n            \u003c/div\u003e\n            {action}\n            \u003cToastClose /\u003e\n          \u003c/Toast\u003e\n        );\n      })}\n      \u003cToastViewport /\u003e\n    \u003c/ToastProvider\u003e\n  );\n}","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx","end_line":23,"type":"","score":0.82122475},{"content":"            \"name\": \"useToast Hook\",\n            \"dependent_file\": [\n              \"src/hooks/use-toast.ts\"\n            ],\n            \"prompt\": \"Create comprehensive documentation for the useToast custom hook, detailing its reducer-based state management architecture. Explain the core state structure (ToasterToast) with fields like id, title, description, action, and open status. Document the four action types (ADD_TOAST, UPDATE_TOAST, DISMISS_TOAST, REMOVE_TOAST) and their role in managing toast lifecycle. Describe the singleton pattern using memoryState and global listeners array to enable toast functionality without React context. Explain the toast() function's role in generating unique IDs via genId(), dispatching ADD_TOAST actions, and returning dismiss/update methods for imperative control. Detail the timeout mechanism in addToRemoveQueue that automatically removes toasts after TOAST_REMOVE_DELAY. Illustrate integration with UI components such as Toaster and Sonner in the component tree. Provide usage examples for success/error toasts in form submissions. Address performance considerations including memory management of timeout references, prevention of toast queue overflow via TOAST_LIMIT, and efficient state updates. Include troubleshooting tips for issues like toasts not disappearing, duplicate toasts appearing, or memory leaks from uncleaned timeouts. Document testing strategies for this hook using Jest timers and mock dispatch verification.\",","file_path":"/home/mohjak/syrian-community/sc-dof/chat/agents/deepwiki/deepwiki_output/ai_response_catalogue_structure_merge_20251216_105105.txt","start_line":358,"end_line":362,"type":"","score":0.81718725},{"content":"import * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps \u0026 {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial\u003cToasterToast\u003e;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map\u003cstring, ReturnType\u003ctypeof setTimeout\u003e\u003e();\n\nconst addToRemoveQueue = (toastId: string) =\u003e {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() =\u003e {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-toast.ts","end_line":68,"type":"","score":0.7713071},{"content":"import * as React from \"react\";\nimport * as ToastPrimitives from \"@radix-ui/react-toast\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst ToastProvider = ToastPrimitives.Provider;\n\nconst ToastViewport = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Viewport\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Viewport\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className,\n    )}\n    {...props}\n  /\u003e\n));\nToastViewport.displayName = ToastPrimitives.Viewport.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","end_line":22,"type":"","score":0.63427645},{"content":"const ToastAction = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Action\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Action\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  /\u003e\n));\nToastAction.displayName = ToastPrimitives.Action.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":47,"end_line":60,"type":"","score":0.6051834},{"content":"        \"name\": \"Custom Hooks for State Management\",\n        \"dependent_file\": [\n          \"src/hooks/use-mobile.tsx\",\n          \"src/hooks/use-toast.ts\"\n        ],\n        \"prompt\": \"Develop detailed content for the custom hooks used in state management, focusing on useIsMobile and useToast. For useIsMobile, explain the implementation using window.matchMedia to detect screen size changes at the 768px breakpoint, the useState initialization, and the useEffect cleanup to prevent memory leaks. Provide examples of how components use this hook to conditionally render mobile-specific UI elements. For useToast, document the reducer-based state management pattern, action types (ADD_TOAST, DISMISS_TOAST, etc.), and toast queue mechanics with timeout handling. Explain how the toast function generates unique IDs, dispatches actions, and returns dismiss/update methods. Illustrate integration with UI components like Toaster and Sonner in AppContent. Address performance considerations such as event listener cleanup, memory management of toast timeouts, and preventing unnecessary re-renders. Include troubleshooting tips for common issues like toasts not appearing or mobile detection failing on resize.\",\n        \"has_children\": \"YES\",\n        \"children\": [\n          {\n            \"title\": \"use-mobile-hook\",\n            \"name\": \"useIsMobile Hook\",\n            \"dependent_file\": [\n              \"src/hooks/use-mobile.tsx\"\n            ],","file_path":"/home/mohjak/syrian-community/sc-dof/chat/agents/deepwiki/deepwiki_output/ai_response_catalogue_structure_merge_20251216_105105.txt","start_line":338,"end_line":351,"type":"","score":0.5810286},{"content":"const ToastDescription = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Description\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Description\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} /\u003e\n));\nToastDescription.displayName = ToastPrimitives.Description.displayName;\n\ntype ToastProps = React.ComponentPropsWithoutRef\u003ctypeof Toast\u003e;\n\ntype ToastActionElement = React.ReactElement\u003ctypeof ToastAction\u003e;\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n};","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":88,"end_line":110,"type":"","score":0.5467407},{"content":"const ToastClose = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Close\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Close\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className,\n    )}\n    toast-close=\"\"\n    {...props}\n  \u003e\n    \u003cX className=\"h-4 w-4\" /\u003e\n  \u003c/ToastPrimitives.Close\u003e\n));\nToastClose.displayName = ToastPrimitives.Close.displayName;\n\nconst ToastTitle = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Title\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Title\u003e\n\u003e(({ className, ...props }, ref) =\u003e (\n  \u003cToastPrimitives.Title ref={ref} className={cn(\"text-sm font-semibold\", className)} {...props} /\u003e\n));\nToastTitle.displayName = ToastPrimitives.Title.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":62,"end_line":86,"type":"","score":0.52449363},{"content":"const toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive: \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nconst Toast = React.forwardRef\u003c\n  React.ElementRef\u003ctypeof ToastPrimitives.Root\u003e,\n  React.ComponentPropsWithoutRef\u003ctypeof ToastPrimitives.Root\u003e \u0026 VariantProps\u003ctypeof toastVariants\u003e\n\u003e(({ className, variant, ...props }, ref) =\u003e {\n  return \u003cToastPrimitives.Root ref={ref} className={cn(toastVariants({ variant }), className)} {...props} /\u003e;\n});\nToast.displayName = ToastPrimitives.Root.displayName;","file_path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toast.tsx","start_line":24,"end_line":45,"type":"","score":0.5244377}],"detailed_documents":null,"truncated_documents":null,"abbreviate_documents":null}},"Status":"FINISHED","cost":483}},"reasoning_content_signature":""},{"role":"tool","content":"\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx\" startLine=\"1\" endLine=\"19\"\u003e\n     1→import * as React from \"react\";\n     2→\n     3→const MOBILE_BREAKPOINT = 768;\n     4→\n     5→export function useIsMobile() {\n     6→  const [isMobile, setIsMobile] = React.useState\u003cboolean | undefined\u003e(undefined);\n     7→\n     8→  React.useEffect(() =\u003e {\n     9→    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    10→    const onChange = () =\u003e {\n    11→      setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    12→    };\n    13→    mql.addEventListener(\"change\", onChange);\n    14→    setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    15→    return () =\u003e mql.removeEventListener(\"change\", onChange);\n    16→  }, []);\n    17→\n    18→  return !!isMobile;\n    19→}\n\u003c/search_result\u003e\n\u003csearch_result type=\"code\" path=\"/home/mohjak/syrian-community/sc-dof/chat/agents/deepwiki/deepwiki_output/ai_response_catalogue_structure_merge_20251216_105105.txt\" startLine=\"349\" endLine=\"362\"\u003e\n   349→            \"name\": \"useIsMobile Hook\",\n   350→            \"dependent_file\": [\n   351→              \"src/hooks/use-mobile.tsx\"\n   352→            ],\n   353→            \"prompt\": \"Develop detailed content for the useIsMobile custom hook, focusing on its implementation using window.matchMedia to detect screen size changes at the 768px breakpoint. Explain the useState initialization with undefined default state and how it transitions to a boolean value after mount. Detail the useEffect setup that adds and removes the 'change' event listener to prevent memory leaks. Provide concrete examples of how components like Navbar and Sidebar use this hook to conditionally render mobile-specific navigation patterns such as drawers or collapsible menus. Illustrate the responsive design integration with Tailwind's breakpoint system. Address performance considerations including efficient event listener management and prevention of unnecessary re-renders through memoization. Include troubleshooting guidance for common issues such as incorrect mobile detection on initial load, failure to update on window resize, and hydration mismatches in SSR environments. Document best practices for testing this hook using Jest and React Testing Library with mocked matchMedia.\",\n   354→            \"has_children\": \"NO\",\n   355→            \"children_plan\": \"The feature is too simple. The current document is sufficient to cover the introduction, no need to split.\"\n   356→          },\n   357→          {\n   358→            \"title\": \"use-toast-hook\",\n   359→            \"name\": \"useToast Hook\",\n   360→            \"dependent_file\": [\n   361→              \"src/hooks/use-toast.ts\"\n   362→            ],\n\u003c/search_result\u003e\n","name":"search_codebase","tool_call_id":"call_7793c6e991d841f78ddf1614","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"type":"semantic_search","result":{"documents":[{"content":"import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState\u003cboolean | undefined\u003e(undefined);\n\n  React.useEffect(() =\u003e {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () =\u003e {\n      setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth \u003c MOBILE_BREAKPOINT);\n    return () =\u003e mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}","file_path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx","end_line":18,"type":"","score":1},{"content":"            \"name\": \"useIsMobile Hook\",\n            \"dependent_file\": [\n              \"src/hooks/use-mobile.tsx\"\n            ],\n            \"prompt\": \"Develop detailed content for the useIsMobile custom hook, focusing on its implementation using window.matchMedia to detect screen size changes at the 768px breakpoint. Explain the useState initialization with undefined default state and how it transitions to a boolean value after mount. Detail the useEffect setup that adds and removes the 'change' event listener to prevent memory leaks. Provide concrete examples of how components like Navbar and Sidebar use this hook to conditionally render mobile-specific navigation patterns such as drawers or collapsible menus. Illustrate the responsive design integration with Tailwind's breakpoint system. Address performance considerations including efficient event listener management and prevention of unnecessary re-renders through memoization. Include troubleshooting guidance for common issues such as incorrect mobile detection on initial load, failure to update on window resize, and hydration mismatches in SSR environments. Document best practices for testing this hook using Jest and React Testing Library with mocked matchMedia.\",\n            \"has_children\": \"NO\",\n            \"children_plan\": \"The feature is too simple. The current document is sufficient to cover the introduction, no need to split.\"\n          },\n          {\n            \"title\": \"use-toast-hook\",\n            \"name\": \"useToast Hook\",\n            \"dependent_file\": [\n              \"src/hooks/use-toast.ts\"\n            ],","file_path":"/home/mohjak/syrian-community/sc-dof/chat/agents/deepwiki/deepwiki_output/ai_response_catalogue_structure_merge_20251216_105105.txt","start_line":348,"end_line":361,"type":"","score":0.53137815}],"detailed_documents":null,"truncated_documents":null,"abbreviate_documents":null}},"Status":"FINISHED","cost":363}},"reasoning_content_signature":""},{"role":"assistant","content":"Let me check for actual usage examples in the components:\n\n","tool_calls":[{"id":"call_a0bf61af2ac842d6845d8e1d","type":"function","function":{"name":"grep_code","arguments":"{\"regex\": \"import.*useIsMobile|useIsMobile\\\\(\", \"include_pattern\": \"*.tsx\"}"}},{"id":"call_cbc0c0679ae54a6395a7218d","type":"function","function":{"name":"grep_code","arguments":"{\"regex\": \"import.*useToast|useToast\\\\(|toast\\\\(\", \"include_pattern\": \"*.tsx\"}"}}],"response_meta":{"id":"chatcmpl-87d88da8-0e40-4a09-83de-fd24acdffbaf","finish_reason":"tool_calls","usage":{"prompt_tokens":28272,"completion_tokens":99,"total_tokens":28371,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"tool","content":"Found 3 matches.\n/home/mohjak/syrian-community/sc-dof/src/components/ui/sidebar.tsx:L5: import { useIsMobile } from \"@/hooks/use-mobile\";\n/home/mohjak/syrian-community/sc-dof/src/components/ui/sidebar.tsx:L50:   const isMobile = useIsMobile();\n/home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx:L4: export function useIsMobile() {\n","name":"grep_code","tool_call_id":"call_a0bf61af2ac842d6845d8e1d","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"lines":[{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/sidebar.tsx","fileName":"sidebar.tsx","line":5,"content":"import { useIsMobile } from \"@/hooks/use-mobile\";"},{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/sidebar.tsx","fileName":"sidebar.tsx","line":50,"content":"  const isMobile = useIsMobile();"},{"path":"/home/mohjak/syrian-community/sc-dof/src/hooks/use-mobile.tsx","fileName":"use-mobile.tsx","line":4,"content":"export function useIsMobile() {"}]},"Status":"FINISHED","cost":17}},"reasoning_content_signature":""},{"role":"tool","content":"Found 2 matches.\n/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx:L0: import { useToast } from \"@/hooks/use-toast\";\n/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx:L4:   const { toasts } = useToast();\n","name":"grep_code","tool_call_id":"call_cbc0c0679ae54a6395a7218d","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"lines":[{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx","fileName":"toaster.tsx","line":0,"content":"import { useToast } from \"@/hooks/use-toast\";"},{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/toaster.tsx","fileName":"toaster.tsx","line":4,"content":"  const { toasts } = useToast();"}]},"Status":"FINISHED","cost":20}},"reasoning_content_signature":""},{"role":"assistant","content":"Let me examine the sidebar component to see how useIsMobile is used:\n\n","tool_calls":[{"id":"call_285f72d3e12049638c6828e4","type":"function","function":{"name":"read_file","arguments":"{\"file_path\": \"src/components/ui/sidebar.tsx\", \"view_dependencies\": true}"}}],"response_meta":{"id":"chatcmpl-d3724711-5fd4-43b6-aac2-89e7e50d2d19","finish_reason":"tool_calls","usage":{"prompt_tokens":28551,"completion_tokens":51,"total_tokens":28602,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""},{"role":"tool","content":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/sidebar.tsx, from line 1-638 (total 638 lines)\n```\n     1→import * as React from \"react\";\n     2→import { Slot } from \"@radix-ui/react-slot\";\n     3→import { VariantProps, cva } from \"class-variance-authority\";\n     4→import { PanelLeft } from \"lucide-react\";\n     5→\n     6→import { useIsMobile } from \"@/hooks/use-mobile\";\n     7→import { cn } from \"@/lib/utils\";\n     8→import { Button } from \"@/components/ui/button\";\n     9→import { Input } from \"@/components/ui/input\";\n    10→import { Separator } from \"@/components/ui/separator\";\n    11→import { Sheet, SheetContent } from \"@/components/ui/sheet\";\n    12→import { Skeleton } from \"@/components/ui/skeleton\";\n    13→import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n    14→\n    15→const SIDEBAR_COOKIE_NAME = \"sidebar:state\";\n    16→const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\n    17→const SIDEBAR_WIDTH = \"16rem\";\n    18→const SIDEBAR_WIDTH_MOBILE = \"18rem\";\n    19→const SIDEBAR_WIDTH_ICON = \"3rem\";\n    20→const SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n    21→\n    22→type SidebarContext = {\n    23→  state: \"expanded\" | \"collapsed\";\n    24→  open: boolean;\n    25→  setOpen: (open: boolean) =\u003e void;\n    26→  openMobile: boolean;\n    27→  setOpenMobile: (open: boolean) =\u003e void;\n    28→  isMobile: boolean;\n    29→  toggleSidebar: () =\u003e void;\n    30→};\n    31→\n    32→const SidebarContext = React.createContext\u003cSidebarContext | null\u003e(null);\n    33→\n    34→function useSidebar() {\n    35→  const context = React.useContext(SidebarContext);\n    36→  if (!context) {\n    37→    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n    38→  }\n    39→\n    40→  return context;\n    41→}\n    42→\n    43→const SidebarProvider = React.forwardRef\u003c\n    44→  HTMLDivElement,\n    45→  React.ComponentProps\u003c\"div\"\u003e \u0026 {\n    46→    defaultOpen?: boolean;\n    47→    open?: boolean;\n    48→    onOpenChange?: (open: boolean) =\u003e void;\n    49→  }\n    50→\u003e(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) =\u003e {\n    51→  const isMobile = useIsMobile();\n    52→  const [openMobile, setOpenMobile] = React.useState(false);\n    53→\n    54→  // This is the internal state of the sidebar.\n    55→  // We use openProp and setOpenProp for control from outside the component.\n    56→  const [_open, _setOpen] = React.useState(defaultOpen);\n    57→  const open = openProp ?? _open;\n    58→  const setOpen = React.useCallback(\n    59→    (value: boolean | ((value: boolean) =\u003e boolean)) =\u003e {\n    60→      const openState = typeof value === \"function\" ? value(open) : value;\n    61→      if (setOpenProp) {\n    62→        setOpenProp(openState);\n    63→      } else {\n    64→        _setOpen(openState);\n    65→      }\n    66→\n    67→      // This sets the cookie to keep the sidebar state.\n    68→      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    69→    },\n    70→    [setOpenProp, open],\n    71→  );\n    72→\n    73→  // Helper to toggle the sidebar.\n    74→  const toggleSidebar = React.useCallback(() =\u003e {\n    75→    return isMobile ? setOpenMobile((open) =\u003e !open) : setOpen((open) =\u003e !open);\n    76→  }, [isMobile, setOpen, setOpenMobile]);\n    77→\n    78→  // Adds a keyboard shortcut to toggle the sidebar.\n    79→  React.useEffect(() =\u003e {\n    80→    const handleKeyDown = (event: KeyboardEvent) =\u003e {\n    81→      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT \u0026\u0026 (event.metaKey || event.ctrlKey)) {\n    82→        event.preventDefault();\n    83→        toggleSidebar();\n    84→      }\n    85→    };\n    86→\n    87→    window.addEventListener(\"keydown\", handleKeyDown);\n    88→    return () =\u003e window.removeEventListener(\"keydown\", handleKeyDown);\n    89→  }, [toggleSidebar]);\n    90→\n    91→  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    92→  // This makes it easier to style the sidebar with Tailwind classes.\n    93→  const state = open ? \"expanded\" : \"collapsed\";\n    94→\n    95→  const contextValue = React.useMemo\u003cSidebarContext\u003e(\n    96→    () =\u003e ({\n    97→      state,\n    98→      open,\n    99→      setOpen,\n   100→      isMobile,\n   101→      openMobile,\n   102→      setOpenMobile,\n   103→      toggleSidebar,\n   104→    }),\n   105→    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n   106→  );\n   107→\n   108→  return (\n   109→    \u003cSidebarContext.Provider value={contextValue}\u003e\n   110→      \u003cTooltipProvider delayDuration={0}\u003e\n   111→        \u003cdiv\n   112→          style={\n   113→            {\n   114→              \"--sidebar-width\": SIDEBAR_WIDTH,\n   115→              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n   116→              ...style,\n   117→            } as React.CSSProperties\n   118→          }\n   119→          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\n   120→          ref={ref}\n   121→          {...props}\n   122→        \u003e\n   123→          {children}\n   124→        \u003c/div\u003e\n   125→      \u003c/TooltipProvider\u003e\n   126→    \u003c/SidebarContext.Provider\u003e\n   127→  );\n   128→});\n   129→SidebarProvider.displayName = \"SidebarProvider\";\n   130→\n   131→const Sidebar = React.forwardRef\u003c\n   132→  HTMLDivElement,\n   133→  React.ComponentProps\u003c\"div\"\u003e \u0026 {\n   134→    side?: \"left\" | \"right\";\n   135→    variant?: \"sidebar\" | \"floating\" | \"inset\";\n   136→    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n   137→  }\n   138→\u003e(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) =\u003e {\n   139→  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n   140→\n   141→  if (collapsible === \"none\") {\n   142→    return (\n   143→      \u003cdiv\n   144→        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\n   145→        ref={ref}\n   146→        {...props}\n   147→      \u003e\n   148→        {children}\n   149→      \u003c/div\u003e\n   150→    );\n   151→  }\n   152→\n   153→  if (isMobile) {\n   154→    return (\n   155→      \u003cSheet open={openMobile} onOpenChange={setOpenMobile} {...props}\u003e\n   156→        \u003cSheetContent\n   157→          data-sidebar=\"sidebar\"\n   158→          data-mobile=\"true\"\n   159→          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [\u0026\u003ebutton]:hidden\"\n   160→          style={\n   161→            {\n   162→              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n   163→            } as React.CSSProperties\n   164→          }\n   165→          side={side}\n   166→        \u003e\n   167→          \u003cdiv className=\"flex h-full w-full flex-col\"\u003e{children}\u003c/div\u003e\n   168→        \u003c/SheetContent\u003e\n   169→      \u003c/Sheet\u003e\n   170→    );\n   171→  }\n   172→\n   173→  return (\n   174→    \u003cdiv\n   175→      ref={ref}\n   176→      className=\"group peer hidden text-sidebar-foreground md:block\"\n   177→      data-state={state}\n   178→      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n   179→      data-variant={variant}\n   180→      data-side={side}\n   181→    \u003e\n   182→      {/* This is what handles the sidebar gap on desktop */}\n   183→      \u003cdiv\n   184→        className={cn(\n   185→          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n   186→          \"group-data-[collapsible=offcanvas]:w-0\",\n   187→          \"group-data-[side=right]:rotate-180\",\n   188→          variant === \"floating\" || variant === \"inset\"\n   189→            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n   190→            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n   191→        )}\n   192→      /\u003e\n   193→      \u003cdiv\n   194→        className={cn(\n   195→          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n   196→          side === \"left\"\n   197→            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n   198→            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n   199→          // Adjust the padding for floating and inset variants.\n   200→          variant === \"floating\" || variant === \"inset\"\n   201→            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n   202→            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n   203→          className,\n   204→        )}\n   205→        {...props}\n   206→      \u003e\n   207→        \u003cdiv\n   208→          data-sidebar=\"sidebar\"\n   209→          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n   210→        \u003e\n   211→          {children}\n   212→        \u003c/div\u003e\n   213→      \u003c/div\u003e\n   214→    \u003c/div\u003e\n   215→  );\n   216→});\n   217→Sidebar.displayName = \"Sidebar\";\n   218→\n   219→const SidebarTrigger = React.forwardRef\u003cReact.ElementRef\u003ctypeof Button\u003e, React.ComponentProps\u003ctypeof Button\u003e\u003e(\n   220→  ({ className, onClick, ...props }, ref) =\u003e {\n   221→    const { toggleSidebar } = useSidebar();\n   222→\n   223→    return (\n   224→      \u003cButton\n   225→        ref={ref}\n   226→        data-sidebar=\"trigger\"\n   227→        variant=\"ghost\"\n   228→        size=\"icon\"\n   229→        className={cn(\"h-7 w-7\", className)}\n   230→        onClick={(event) =\u003e {\n   231→          onClick?.(event);\n   232→          toggleSidebar();\n   233→        }}\n   234→        {...props}\n   235→      \u003e\n   236→        \u003cPanelLeft /\u003e\n   237→        \u003cspan className=\"sr-only\"\u003eToggle Sidebar\u003c/span\u003e\n   238→      \u003c/Button\u003e\n   239→    );\n   240→  },\n   241→);\n   242→SidebarTrigger.displayName = \"SidebarTrigger\";\n   243→\n   244→const SidebarRail = React.forwardRef\u003cHTMLButtonElement, React.ComponentProps\u003c\"button\"\u003e\u003e(\n   245→  ({ className, ...props }, ref) =\u003e {\n   246→    const { toggleSidebar } = useSidebar();\n   247→\n   248→    return (\n   249→      \u003cbutton\n   250→        ref={ref}\n   251→        data-sidebar=\"rail\"\n   252→        aria-label=\"Toggle Sidebar\"\n   253→        tabIndex={-1}\n   254→        onClick={toggleSidebar}\n   255→        title=\"Toggle Sidebar\"\n   256→        className={cn(\n   257→          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\n   258→          \"[[data-side=left]_\u0026]:cursor-w-resize [[data-side=right]_\u0026]:cursor-e-resize\",\n   259→          \"[[data-side=left][data-state=collapsed]_\u0026]:cursor-e-resize [[data-side=right][data-state=collapsed]_\u0026]:cursor-w-resize\",\n   260→          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n   261→          \"[[data-side=left][data-collapsible=offcanvas]_\u0026]:-right-2\",\n   262→          \"[[data-side=right][data-collapsible=offcanvas]_\u0026]:-left-2\",\n   263→          className,\n   264→        )}\n   265→        {...props}\n   266→      /\u003e\n   267→    );\n   268→  },\n   269→);\n   270→SidebarRail.displayName = \"SidebarRail\";\n   271→\n   272→const SidebarInset = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"main\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   273→  return (\n   274→    \u003cmain\n   275→      ref={ref}\n   276→      className={cn(\n   277→        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n   278→        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n   279→        className,\n   280→      )}\n   281→      {...props}\n   282→    /\u003e\n   283→  );\n   284→});\n   285→SidebarInset.displayName = \"SidebarInset\";\n   286→\n   287→const SidebarInput = React.forwardRef\u003cReact.ElementRef\u003ctypeof Input\u003e, React.ComponentProps\u003ctypeof Input\u003e\u003e(\n   288→  ({ className, ...props }, ref) =\u003e {\n   289→    return (\n   290→      \u003cInput\n   291→        ref={ref}\n   292→        data-sidebar=\"input\"\n   293→        className={cn(\n   294→          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n   295→          className,\n   296→        )}\n   297→        {...props}\n   298→      /\u003e\n   299→    );\n   300→  },\n   301→);\n   302→SidebarInput.displayName = \"SidebarInput\";\n   303→\n   304→const SidebarHeader = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   305→  return \u003cdiv ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} /\u003e;\n   306→});\n   307→SidebarHeader.displayName = \"SidebarHeader\";\n   308→\n   309→const SidebarFooter = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   310→  return \u003cdiv ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} /\u003e;\n   311→});\n   312→SidebarFooter.displayName = \"SidebarFooter\";\n   313→\n   314→const SidebarSeparator = React.forwardRef\u003cReact.ElementRef\u003ctypeof Separator\u003e, React.ComponentProps\u003ctypeof Separator\u003e\u003e(\n   315→  ({ className, ...props }, ref) =\u003e {\n   316→    return (\n   317→      \u003cSeparator\n   318→        ref={ref}\n   319→        data-sidebar=\"separator\"\n   320→        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n   321→        {...props}\n   322→      /\u003e\n   323→    );\n   324→  },\n   325→);\n   326→SidebarSeparator.displayName = \"SidebarSeparator\";\n   327→\n   328→const SidebarContent = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   329→  return (\n   330→    \u003cdiv\n   331→      ref={ref}\n   332→      data-sidebar=\"content\"\n   333→      className={cn(\n   334→        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n   335→        className,\n   336→      )}\n   337→      {...props}\n   338→    /\u003e\n   339→  );\n   340→});\n   341→SidebarContent.displayName = \"SidebarContent\";\n   342→\n   343→const SidebarGroup = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   344→  return (\n   345→    \u003cdiv\n   346→      ref={ref}\n   347→      data-sidebar=\"group\"\n   348→      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n   349→      {...props}\n   350→    /\u003e\n   351→  );\n   352→});\n   353→SidebarGroup.displayName = \"SidebarGroup\";\n   354→\n   355→const SidebarGroupLabel = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e \u0026 { asChild?: boolean }\u003e(\n   356→  ({ className, asChild = false, ...props }, ref) =\u003e {\n   357→    const Comp = asChild ? Slot : \"div\";\n   358→\n   359→    return (\n   360→      \u003cComp\n   361→        ref={ref}\n   362→        data-sidebar=\"group-label\"\n   363→        className={cn(\n   364→          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   365→          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n   366→          className,\n   367→        )}\n   368→        {...props}\n   369→      /\u003e\n   370→    );\n   371→  },\n   372→);\n   373→SidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n   374→\n   375→const SidebarGroupAction = React.forwardRef\u003cHTMLButtonElement, React.ComponentProps\u003c\"button\"\u003e \u0026 { asChild?: boolean }\u003e(\n   376→  ({ className, asChild = false, ...props }, ref) =\u003e {\n   377→    const Comp = asChild ? Slot : \"button\";\n   378→\n   379→    return (\n   380→      \u003cComp\n   381→        ref={ref}\n   382→        data-sidebar=\"group-action\"\n   383→        className={cn(\n   384→          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   385→          // Increases the hit area of the button on mobile.\n   386→          \"after:absolute after:-inset-2 after:md:hidden\",\n   387→          \"group-data-[collapsible=icon]:hidden\",\n   388→          className,\n   389→        )}\n   390→        {...props}\n   391→      /\u003e\n   392→    );\n   393→  },\n   394→);\n   395→SidebarGroupAction.displayName = \"SidebarGroupAction\";\n   396→\n   397→const SidebarGroupContent = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(\n   398→  ({ className, ...props }, ref) =\u003e (\n   399→    \u003cdiv ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} /\u003e\n   400→  ),\n   401→);\n   402→SidebarGroupContent.displayName = \"SidebarGroupContent\";\n   403→\n   404→const SidebarMenu = React.forwardRef\u003cHTMLUListElement, React.ComponentProps\u003c\"ul\"\u003e\u003e(({ className, ...props }, ref) =\u003e (\n   405→  \u003cul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} /\u003e\n   406→));\n   407→SidebarMenu.displayName = \"SidebarMenu\";\n   408→\n   409→const SidebarMenuItem = React.forwardRef\u003cHTMLLIElement, React.ComponentProps\u003c\"li\"\u003e\u003e(({ className, ...props }, ref) =\u003e (\n   410→  \u003cli ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} /\u003e\n   411→));\n   412→SidebarMenuItem.displayName = \"SidebarMenuItem\";\n   413→\n   414→const sidebarMenuButtonVariants = cva(\n   415→  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [\u0026\u003espan:last-child]:truncate [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   416→  {\n   417→    variants: {\n   418→      variant: {\n   419→        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n   420→        outline:\n   421→          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n   422→      },\n   423→      size: {\n   424→        default: \"h-8 text-sm\",\n   425→        sm: \"h-7 text-xs\",\n   426→        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n   427→      },\n   428→    },\n   429→    defaultVariants: {\n   430→      variant: \"default\",\n   431→      size: \"default\",\n   432→    },\n   433→  },\n   434→);\n   435→\n   436→const SidebarMenuButton = React.forwardRef\u003c\n   437→  HTMLButtonElement,\n   438→  React.ComponentProps\u003c\"button\"\u003e \u0026 {\n   439→    asChild?: boolean;\n   440→    isActive?: boolean;\n   441→    tooltip?: string | React.ComponentProps\u003ctypeof TooltipContent\u003e;\n   442→  } \u0026 VariantProps\u003ctypeof sidebarMenuButtonVariants\u003e\n   443→\u003e(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) =\u003e {\n   444→  const Comp = asChild ? Slot : \"button\";\n   445→  const { isMobile, state } = useSidebar();\n   446→\n   447→  const button = (\n   448→    \u003cComp\n   449→      ref={ref}\n   450→      data-sidebar=\"menu-button\"\n   451→      data-size={size}\n   452→      data-active={isActive}\n   453→      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n   454→      {...props}\n   455→    /\u003e\n   456→  );\n   457→\n   458→  if (!tooltip) {\n   459→    return button;\n   460→  }\n   461→\n   462→  if (typeof tooltip === \"string\") {\n   463→    tooltip = {\n   464→      children: tooltip,\n   465→    };\n   466→  }\n   467→\n   468→  return (\n   469→    \u003cTooltip\u003e\n   470→      \u003cTooltipTrigger asChild\u003e{button}\u003c/TooltipTrigger\u003e\n   471→      \u003cTooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} /\u003e\n   472→    \u003c/Tooltip\u003e\n   473→  );\n   474→});\n   475→SidebarMenuButton.displayName = \"SidebarMenuButton\";\n   476→\n   477→const SidebarMenuAction = React.forwardRef\u003c\n   478→  HTMLButtonElement,\n   479→  React.ComponentProps\u003c\"button\"\u003e \u0026 {\n   480→    asChild?: boolean;\n   481→    showOnHover?: boolean;\n   482→  }\n   483→\u003e(({ className, asChild = false, showOnHover = false, ...props }, ref) =\u003e {\n   484→  const Comp = asChild ? Slot : \"button\";\n   485→\n   486→  return (\n   487→    \u003cComp\n   488→      ref={ref}\n   489→      data-sidebar=\"menu-action\"\n   490→      className={cn(\n   491→        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   492→        // Increases the hit area of the button on mobile.\n   493→        \"after:absolute after:-inset-2 after:md:hidden\",\n   494→        \"peer-data-[size=sm]/menu-button:top-1\",\n   495→        \"peer-data-[size=default]/menu-button:top-1.5\",\n   496→        \"peer-data-[size=lg]/menu-button:top-2.5\",\n   497→        \"group-data-[collapsible=icon]:hidden\",\n   498→        showOnHover \u0026\u0026\n   499→          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n   500→        className,\n   501→      )}\n   502→      {...props}\n   503→    /\u003e\n   504→  );\n   505→});\n   506→SidebarMenuAction.displayName = \"SidebarMenuAction\";\n   507→\n   508→const SidebarMenuBadge = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(\n   509→  ({ className, ...props }, ref) =\u003e (\n   510→    \u003cdiv\n   511→      ref={ref}\n   512→      data-sidebar=\"menu-badge\"\n   513→      className={cn(\n   514→        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n   515→        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n   516→        \"peer-data-[size=sm]/menu-button:top-1\",\n   517→        \"peer-data-[size=default]/menu-button:top-1.5\",\n   518→        \"peer-data-[size=lg]/menu-button:top-2.5\",\n   519→        \"group-data-[collapsible=icon]:hidden\",\n   520→        className,\n   521→      )}\n   522→      {...props}\n   523→    /\u003e\n   524→  ),\n   525→);\n   526→SidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n   527→\n   528→const SidebarMenuSkeleton = React.forwardRef\u003c\n   529→  HTMLDivElement,\n   530→  React.ComponentProps\u003c\"div\"\u003e \u0026 {\n   531→    showIcon?: boolean;\n   532→  }\n   533→\u003e(({ className, showIcon = false, ...props }, ref) =\u003e {\n   534→  // Random width between 50 to 90%.\n   535→  const width = React.useMemo(() =\u003e {\n   536→    return `${Math.floor(Math.random() * 40) + 50}%`;\n   537→  }, []);\n   538→\n   539→  return (\n   540→    \u003cdiv\n   541→      ref={ref}\n   542→      data-sidebar=\"menu-skeleton\"\n   543→      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n   544→      {...props}\n   545→    \u003e\n   546→      {showIcon \u0026\u0026 \u003cSkeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" /\u003e}\n   547→      \u003cSkeleton\n   548→        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n   549→        data-sidebar=\"menu-skeleton-text\"\n   550→        style={\n   551→          {\n   552→            \"--skeleton-width\": width,\n   553→          } as React.CSSProperties\n   554→        }\n   555→      /\u003e\n   556→    \u003c/div\u003e\n   557→  );\n   558→});\n   559→SidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n   560→\n   561→const SidebarMenuSub = React.forwardRef\u003cHTMLUListElement, React.ComponentProps\u003c\"ul\"\u003e\u003e(\n   562→  ({ className, ...props }, ref) =\u003e (\n   563→    \u003cul\n   564→      ref={ref}\n   565→      data-sidebar=\"menu-sub\"\n   566→      className={cn(\n   567→        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n   568→        \"group-data-[collapsible=icon]:hidden\",\n   569→        className,\n   570→      )}\n   571→      {...props}\n   572→    /\u003e\n   573→  ),\n   574→);\n   575→SidebarMenuSub.displayName = \"SidebarMenuSub\";\n   576→\n   577→const SidebarMenuSubItem = React.forwardRef\u003cHTMLLIElement, React.ComponentProps\u003c\"li\"\u003e\u003e(({ ...props }, ref) =\u003e (\n   578→  \u003cli ref={ref} {...props} /\u003e\n   579→));\n   580→SidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n   581→\n   582→const SidebarMenuSubButton = React.forwardRef\u003c\n   583→  HTMLAnchorElement,\n   584→  React.ComponentProps\u003c\"a\"\u003e \u0026 {\n   585→    asChild?: boolean;\n   586→    size?: \"sm\" | \"md\";\n   587→    isActive?: boolean;\n   588→  }\n   589→\u003e(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) =\u003e {\n   590→  const Comp = asChild ? Slot : \"a\";\n   591→\n   592→  return (\n   593→    \u003cComp\n   594→      ref={ref}\n   595→      data-sidebar=\"menu-sub-button\"\n   596→      data-size={size}\n   597→      data-active={isActive}\n   598→      className={cn(\n   599→        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [\u0026\u003espan:last-child]:truncate [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0 [\u0026\u003esvg]:text-sidebar-accent-foreground\",\n   600→        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n   601→        size === \"sm\" \u0026\u0026 \"text-xs\",\n   602→        size === \"md\" \u0026\u0026 \"text-sm\",\n   603→        \"group-data-[collapsible=icon]:hidden\",\n   604→        className,\n   605→      )}\n   606→      {...props}\n   607→    /\u003e\n   608→  );\n   609→});\n   610→SidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n   611→\n   612→export {\n   613→  Sidebar,\n   614→  SidebarContent,\n   615→  SidebarFooter,\n   616→  SidebarGroup,\n   617→  SidebarGroupAction,\n   618→  SidebarGroupContent,\n   619→  SidebarGroupLabel,\n   620→  SidebarHeader,\n   621→  SidebarInput,\n   622→  SidebarInset,\n   623→  SidebarMenu,\n   624→  SidebarMenuAction,\n   625→  SidebarMenuBadge,\n   626→  SidebarMenuButton,\n   627→  SidebarMenuItem,\n   628→  SidebarMenuSkeleton,\n   629→  SidebarMenuSub,\n   630→  SidebarMenuSubButton,\n   631→  SidebarMenuSubItem,\n   632→  SidebarProvider,\n   633→  SidebarRail,\n   634→  SidebarSeparator,\n   635→  SidebarTrigger,\n   636→  useSidebar,\n   637→};\n   638→\n\n```\n","name":"read_file","tool_call_id":"call_285f72d3e12049638c6828e4","response_meta":{"id":"","usage":{"prompt_tokens":0,"completion_tokens":0,"total_tokens":0,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"extra":{"toolCallResult":{"rawData":{"path":"/home/mohjak/syrian-community/sc-dof/src/components/ui/sidebar.tsx","fileContent":"     1→import * as React from \"react\";\n     2→import { Slot } from \"@radix-ui/react-slot\";\n     3→import { VariantProps, cva } from \"class-variance-authority\";\n     4→import { PanelLeft } from \"lucide-react\";\n     5→\n     6→import { useIsMobile } from \"@/hooks/use-mobile\";\n     7→import { cn } from \"@/lib/utils\";\n     8→import { Button } from \"@/components/ui/button\";\n     9→import { Input } from \"@/components/ui/input\";\n    10→import { Separator } from \"@/components/ui/separator\";\n    11→import { Sheet, SheetContent } from \"@/components/ui/sheet\";\n    12→import { Skeleton } from \"@/components/ui/skeleton\";\n    13→import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n    14→\n    15→const SIDEBAR_COOKIE_NAME = \"sidebar:state\";\n    16→const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\n    17→const SIDEBAR_WIDTH = \"16rem\";\n    18→const SIDEBAR_WIDTH_MOBILE = \"18rem\";\n    19→const SIDEBAR_WIDTH_ICON = \"3rem\";\n    20→const SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n    21→\n    22→type SidebarContext = {\n    23→  state: \"expanded\" | \"collapsed\";\n    24→  open: boolean;\n    25→  setOpen: (open: boolean) =\u003e void;\n    26→  openMobile: boolean;\n    27→  setOpenMobile: (open: boolean) =\u003e void;\n    28→  isMobile: boolean;\n    29→  toggleSidebar: () =\u003e void;\n    30→};\n    31→\n    32→const SidebarContext = React.createContext\u003cSidebarContext | null\u003e(null);\n    33→\n    34→function useSidebar() {\n    35→  const context = React.useContext(SidebarContext);\n    36→  if (!context) {\n    37→    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n    38→  }\n    39→\n    40→  return context;\n    41→}\n    42→\n    43→const SidebarProvider = React.forwardRef\u003c\n    44→  HTMLDivElement,\n    45→  React.ComponentProps\u003c\"div\"\u003e \u0026 {\n    46→    defaultOpen?: boolean;\n    47→    open?: boolean;\n    48→    onOpenChange?: (open: boolean) =\u003e void;\n    49→  }\n    50→\u003e(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) =\u003e {\n    51→  const isMobile = useIsMobile();\n    52→  const [openMobile, setOpenMobile] = React.useState(false);\n    53→\n    54→  // This is the internal state of the sidebar.\n    55→  // We use openProp and setOpenProp for control from outside the component.\n    56→  const [_open, _setOpen] = React.useState(defaultOpen);\n    57→  const open = openProp ?? _open;\n    58→  const setOpen = React.useCallback(\n    59→    (value: boolean | ((value: boolean) =\u003e boolean)) =\u003e {\n    60→      const openState = typeof value === \"function\" ? value(open) : value;\n    61→      if (setOpenProp) {\n    62→        setOpenProp(openState);\n    63→      } else {\n    64→        _setOpen(openState);\n    65→      }\n    66→\n    67→      // This sets the cookie to keep the sidebar state.\n    68→      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    69→    },\n    70→    [setOpenProp, open],\n    71→  );\n    72→\n    73→  // Helper to toggle the sidebar.\n    74→  const toggleSidebar = React.useCallback(() =\u003e {\n    75→    return isMobile ? setOpenMobile((open) =\u003e !open) : setOpen((open) =\u003e !open);\n    76→  }, [isMobile, setOpen, setOpenMobile]);\n    77→\n    78→  // Adds a keyboard shortcut to toggle the sidebar.\n    79→  React.useEffect(() =\u003e {\n    80→    const handleKeyDown = (event: KeyboardEvent) =\u003e {\n    81→      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT \u0026\u0026 (event.metaKey || event.ctrlKey)) {\n    82→        event.preventDefault();\n    83→        toggleSidebar();\n    84→      }\n    85→    };\n    86→\n    87→    window.addEventListener(\"keydown\", handleKeyDown);\n    88→    return () =\u003e window.removeEventListener(\"keydown\", handleKeyDown);\n    89→  }, [toggleSidebar]);\n    90→\n    91→  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    92→  // This makes it easier to style the sidebar with Tailwind classes.\n    93→  const state = open ? \"expanded\" : \"collapsed\";\n    94→\n    95→  const contextValue = React.useMemo\u003cSidebarContext\u003e(\n    96→    () =\u003e ({\n    97→      state,\n    98→      open,\n    99→      setOpen,\n   100→      isMobile,\n   101→      openMobile,\n   102→      setOpenMobile,\n   103→      toggleSidebar,\n   104→    }),\n   105→    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n   106→  );\n   107→\n   108→  return (\n   109→    \u003cSidebarContext.Provider value={contextValue}\u003e\n   110→      \u003cTooltipProvider delayDuration={0}\u003e\n   111→        \u003cdiv\n   112→          style={\n   113→            {\n   114→              \"--sidebar-width\": SIDEBAR_WIDTH,\n   115→              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n   116→              ...style,\n   117→            } as React.CSSProperties\n   118→          }\n   119→          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\n   120→          ref={ref}\n   121→          {...props}\n   122→        \u003e\n   123→          {children}\n   124→        \u003c/div\u003e\n   125→      \u003c/TooltipProvider\u003e\n   126→    \u003c/SidebarContext.Provider\u003e\n   127→  );\n   128→});\n   129→SidebarProvider.displayName = \"SidebarProvider\";\n   130→\n   131→const Sidebar = React.forwardRef\u003c\n   132→  HTMLDivElement,\n   133→  React.ComponentProps\u003c\"div\"\u003e \u0026 {\n   134→    side?: \"left\" | \"right\";\n   135→    variant?: \"sidebar\" | \"floating\" | \"inset\";\n   136→    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n   137→  }\n   138→\u003e(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) =\u003e {\n   139→  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n   140→\n   141→  if (collapsible === \"none\") {\n   142→    return (\n   143→      \u003cdiv\n   144→        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\n   145→        ref={ref}\n   146→        {...props}\n   147→      \u003e\n   148→        {children}\n   149→      \u003c/div\u003e\n   150→    );\n   151→  }\n   152→\n   153→  if (isMobile) {\n   154→    return (\n   155→      \u003cSheet open={openMobile} onOpenChange={setOpenMobile} {...props}\u003e\n   156→        \u003cSheetContent\n   157→          data-sidebar=\"sidebar\"\n   158→          data-mobile=\"true\"\n   159→          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [\u0026\u003ebutton]:hidden\"\n   160→          style={\n   161→            {\n   162→              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n   163→            } as React.CSSProperties\n   164→          }\n   165→          side={side}\n   166→        \u003e\n   167→          \u003cdiv className=\"flex h-full w-full flex-col\"\u003e{children}\u003c/div\u003e\n   168→        \u003c/SheetContent\u003e\n   169→      \u003c/Sheet\u003e\n   170→    );\n   171→  }\n   172→\n   173→  return (\n   174→    \u003cdiv\n   175→      ref={ref}\n   176→      className=\"group peer hidden text-sidebar-foreground md:block\"\n   177→      data-state={state}\n   178→      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n   179→      data-variant={variant}\n   180→      data-side={side}\n   181→    \u003e\n   182→      {/* This is what handles the sidebar gap on desktop */}\n   183→      \u003cdiv\n   184→        className={cn(\n   185→          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n   186→          \"group-data-[collapsible=offcanvas]:w-0\",\n   187→          \"group-data-[side=right]:rotate-180\",\n   188→          variant === \"floating\" || variant === \"inset\"\n   189→            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n   190→            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n   191→        )}\n   192→      /\u003e\n   193→      \u003cdiv\n   194→        className={cn(\n   195→          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n   196→          side === \"left\"\n   197→            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n   198→            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n   199→          // Adjust the padding for floating and inset variants.\n   200→          variant === \"floating\" || variant === \"inset\"\n   201→            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n   202→            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n   203→          className,\n   204→        )}\n   205→        {...props}\n   206→      \u003e\n   207→        \u003cdiv\n   208→          data-sidebar=\"sidebar\"\n   209→          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n   210→        \u003e\n   211→          {children}\n   212→        \u003c/div\u003e\n   213→      \u003c/div\u003e\n   214→    \u003c/div\u003e\n   215→  );\n   216→});\n   217→Sidebar.displayName = \"Sidebar\";\n   218→\n   219→const SidebarTrigger = React.forwardRef\u003cReact.ElementRef\u003ctypeof Button\u003e, React.ComponentProps\u003ctypeof Button\u003e\u003e(\n   220→  ({ className, onClick, ...props }, ref) =\u003e {\n   221→    const { toggleSidebar } = useSidebar();\n   222→\n   223→    return (\n   224→      \u003cButton\n   225→        ref={ref}\n   226→        data-sidebar=\"trigger\"\n   227→        variant=\"ghost\"\n   228→        size=\"icon\"\n   229→        className={cn(\"h-7 w-7\", className)}\n   230→        onClick={(event) =\u003e {\n   231→          onClick?.(event);\n   232→          toggleSidebar();\n   233→        }}\n   234→        {...props}\n   235→      \u003e\n   236→        \u003cPanelLeft /\u003e\n   237→        \u003cspan className=\"sr-only\"\u003eToggle Sidebar\u003c/span\u003e\n   238→      \u003c/Button\u003e\n   239→    );\n   240→  },\n   241→);\n   242→SidebarTrigger.displayName = \"SidebarTrigger\";\n   243→\n   244→const SidebarRail = React.forwardRef\u003cHTMLButtonElement, React.ComponentProps\u003c\"button\"\u003e\u003e(\n   245→  ({ className, ...props }, ref) =\u003e {\n   246→    const { toggleSidebar } = useSidebar();\n   247→\n   248→    return (\n   249→      \u003cbutton\n   250→        ref={ref}\n   251→        data-sidebar=\"rail\"\n   252→        aria-label=\"Toggle Sidebar\"\n   253→        tabIndex={-1}\n   254→        onClick={toggleSidebar}\n   255→        title=\"Toggle Sidebar\"\n   256→        className={cn(\n   257→          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\n   258→          \"[[data-side=left]_\u0026]:cursor-w-resize [[data-side=right]_\u0026]:cursor-e-resize\",\n   259→          \"[[data-side=left][data-state=collapsed]_\u0026]:cursor-e-resize [[data-side=right][data-state=collapsed]_\u0026]:cursor-w-resize\",\n   260→          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n   261→          \"[[data-side=left][data-collapsible=offcanvas]_\u0026]:-right-2\",\n   262→          \"[[data-side=right][data-collapsible=offcanvas]_\u0026]:-left-2\",\n   263→          className,\n   264→        )}\n   265→        {...props}\n   266→      /\u003e\n   267→    );\n   268→  },\n   269→);\n   270→SidebarRail.displayName = \"SidebarRail\";\n   271→\n   272→const SidebarInset = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"main\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   273→  return (\n   274→    \u003cmain\n   275→      ref={ref}\n   276→      className={cn(\n   277→        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n   278→        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n   279→        className,\n   280→      )}\n   281→      {...props}\n   282→    /\u003e\n   283→  );\n   284→});\n   285→SidebarInset.displayName = \"SidebarInset\";\n   286→\n   287→const SidebarInput = React.forwardRef\u003cReact.ElementRef\u003ctypeof Input\u003e, React.ComponentProps\u003ctypeof Input\u003e\u003e(\n   288→  ({ className, ...props }, ref) =\u003e {\n   289→    return (\n   290→      \u003cInput\n   291→        ref={ref}\n   292→        data-sidebar=\"input\"\n   293→        className={cn(\n   294→          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n   295→          className,\n   296→        )}\n   297→        {...props}\n   298→      /\u003e\n   299→    );\n   300→  },\n   301→);\n   302→SidebarInput.displayName = \"SidebarInput\";\n   303→\n   304→const SidebarHeader = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   305→  return \u003cdiv ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} /\u003e;\n   306→});\n   307→SidebarHeader.displayName = \"SidebarHeader\";\n   308→\n   309→const SidebarFooter = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   310→  return \u003cdiv ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} /\u003e;\n   311→});\n   312→SidebarFooter.displayName = \"SidebarFooter\";\n   313→\n   314→const SidebarSeparator = React.forwardRef\u003cReact.ElementRef\u003ctypeof Separator\u003e, React.ComponentProps\u003ctypeof Separator\u003e\u003e(\n   315→  ({ className, ...props }, ref) =\u003e {\n   316→    return (\n   317→      \u003cSeparator\n   318→        ref={ref}\n   319→        data-sidebar=\"separator\"\n   320→        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n   321→        {...props}\n   322→      /\u003e\n   323→    );\n   324→  },\n   325→);\n   326→SidebarSeparator.displayName = \"SidebarSeparator\";\n   327→\n   328→const SidebarContent = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   329→  return (\n   330→    \u003cdiv\n   331→      ref={ref}\n   332→      data-sidebar=\"content\"\n   333→      className={cn(\n   334→        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n   335→        className,\n   336→      )}\n   337→      {...props}\n   338→    /\u003e\n   339→  );\n   340→});\n   341→SidebarContent.displayName = \"SidebarContent\";\n   342→\n   343→const SidebarGroup = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(({ className, ...props }, ref) =\u003e {\n   344→  return (\n   345→    \u003cdiv\n   346→      ref={ref}\n   347→      data-sidebar=\"group\"\n   348→      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n   349→      {...props}\n   350→    /\u003e\n   351→  );\n   352→});\n   353→SidebarGroup.displayName = \"SidebarGroup\";\n   354→\n   355→const SidebarGroupLabel = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e \u0026 { asChild?: boolean }\u003e(\n   356→  ({ className, asChild = false, ...props }, ref) =\u003e {\n   357→    const Comp = asChild ? Slot : \"div\";\n   358→\n   359→    return (\n   360→      \u003cComp\n   361→        ref={ref}\n   362→        data-sidebar=\"group-label\"\n   363→        className={cn(\n   364→          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   365→          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n   366→          className,\n   367→        )}\n   368→        {...props}\n   369→      /\u003e\n   370→    );\n   371→  },\n   372→);\n   373→SidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n   374→\n   375→const SidebarGroupAction = React.forwardRef\u003cHTMLButtonElement, React.ComponentProps\u003c\"button\"\u003e \u0026 { asChild?: boolean }\u003e(\n   376→  ({ className, asChild = false, ...props }, ref) =\u003e {\n   377→    const Comp = asChild ? Slot : \"button\";\n   378→\n   379→    return (\n   380→      \u003cComp\n   381→        ref={ref}\n   382→        data-sidebar=\"group-action\"\n   383→        className={cn(\n   384→          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   385→          // Increases the hit area of the button on mobile.\n   386→          \"after:absolute after:-inset-2 after:md:hidden\",\n   387→          \"group-data-[collapsible=icon]:hidden\",\n   388→          className,\n   389→        )}\n   390→        {...props}\n   391→      /\u003e\n   392→    );\n   393→  },\n   394→);\n   395→SidebarGroupAction.displayName = \"SidebarGroupAction\";\n   396→\n   397→const SidebarGroupContent = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(\n   398→  ({ className, ...props }, ref) =\u003e (\n   399→    \u003cdiv ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} /\u003e\n   400→  ),\n   401→);\n   402→SidebarGroupContent.displayName = \"SidebarGroupContent\";\n   403→\n   404→const SidebarMenu = React.forwardRef\u003cHTMLUListElement, React.ComponentProps\u003c\"ul\"\u003e\u003e(({ className, ...props }, ref) =\u003e (\n   405→  \u003cul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} /\u003e\n   406→));\n   407→SidebarMenu.displayName = \"SidebarMenu\";\n   408→\n   409→const SidebarMenuItem = React.forwardRef\u003cHTMLLIElement, React.ComponentProps\u003c\"li\"\u003e\u003e(({ className, ...props }, ref) =\u003e (\n   410→  \u003cli ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} /\u003e\n   411→));\n   412→SidebarMenuItem.displayName = \"SidebarMenuItem\";\n   413→\n   414→const sidebarMenuButtonVariants = cva(\n   415→  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [\u0026\u003espan:last-child]:truncate [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   416→  {\n   417→    variants: {\n   418→      variant: {\n   419→        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n   420→        outline:\n   421→          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n   422→      },\n   423→      size: {\n   424→        default: \"h-8 text-sm\",\n   425→        sm: \"h-7 text-xs\",\n   426→        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n   427→      },\n   428→    },\n   429→    defaultVariants: {\n   430→      variant: \"default\",\n   431→      size: \"default\",\n   432→    },\n   433→  },\n   434→);\n   435→\n   436→const SidebarMenuButton = React.forwardRef\u003c\n   437→  HTMLButtonElement,\n   438→  React.ComponentProps\u003c\"button\"\u003e \u0026 {\n   439→    asChild?: boolean;\n   440→    isActive?: boolean;\n   441→    tooltip?: string | React.ComponentProps\u003ctypeof TooltipContent\u003e;\n   442→  } \u0026 VariantProps\u003ctypeof sidebarMenuButtonVariants\u003e\n   443→\u003e(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) =\u003e {\n   444→  const Comp = asChild ? Slot : \"button\";\n   445→  const { isMobile, state } = useSidebar();\n   446→\n   447→  const button = (\n   448→    \u003cComp\n   449→      ref={ref}\n   450→      data-sidebar=\"menu-button\"\n   451→      data-size={size}\n   452→      data-active={isActive}\n   453→      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n   454→      {...props}\n   455→    /\u003e\n   456→  );\n   457→\n   458→  if (!tooltip) {\n   459→    return button;\n   460→  }\n   461→\n   462→  if (typeof tooltip === \"string\") {\n   463→    tooltip = {\n   464→      children: tooltip,\n   465→    };\n   466→  }\n   467→\n   468→  return (\n   469→    \u003cTooltip\u003e\n   470→      \u003cTooltipTrigger asChild\u003e{button}\u003c/TooltipTrigger\u003e\n   471→      \u003cTooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} /\u003e\n   472→    \u003c/Tooltip\u003e\n   473→  );\n   474→});\n   475→SidebarMenuButton.displayName = \"SidebarMenuButton\";\n   476→\n   477→const SidebarMenuAction = React.forwardRef\u003c\n   478→  HTMLButtonElement,\n   479→  React.ComponentProps\u003c\"button\"\u003e \u0026 {\n   480→    asChild?: boolean;\n   481→    showOnHover?: boolean;\n   482→  }\n   483→\u003e(({ className, asChild = false, showOnHover = false, ...props }, ref) =\u003e {\n   484→  const Comp = asChild ? Slot : \"button\";\n   485→\n   486→  return (\n   487→    \u003cComp\n   488→      ref={ref}\n   489→      data-sidebar=\"menu-action\"\n   490→      className={cn(\n   491→        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0\",\n   492→        // Increases the hit area of the button on mobile.\n   493→        \"after:absolute after:-inset-2 after:md:hidden\",\n   494→        \"peer-data-[size=sm]/menu-button:top-1\",\n   495→        \"peer-data-[size=default]/menu-button:top-1.5\",\n   496→        \"peer-data-[size=lg]/menu-button:top-2.5\",\n   497→        \"group-data-[collapsible=icon]:hidden\",\n   498→        showOnHover \u0026\u0026\n   499→          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n   500→        className,\n   501→      )}\n   502→      {...props}\n   503→    /\u003e\n   504→  );\n   505→});\n   506→SidebarMenuAction.displayName = \"SidebarMenuAction\";\n   507→\n   508→const SidebarMenuBadge = React.forwardRef\u003cHTMLDivElement, React.ComponentProps\u003c\"div\"\u003e\u003e(\n   509→  ({ className, ...props }, ref) =\u003e (\n   510→    \u003cdiv\n   511→      ref={ref}\n   512→      data-sidebar=\"menu-badge\"\n   513→      className={cn(\n   514→        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n   515→        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n   516→        \"peer-data-[size=sm]/menu-button:top-1\",\n   517→        \"peer-data-[size=default]/menu-button:top-1.5\",\n   518→        \"peer-data-[size=lg]/menu-button:top-2.5\",\n   519→        \"group-data-[collapsible=icon]:hidden\",\n   520→        className,\n   521→      )}\n   522→      {...props}\n   523→    /\u003e\n   524→  ),\n   525→);\n   526→SidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n   527→\n   528→const SidebarMenuSkeleton = React.forwardRef\u003c\n   529→  HTMLDivElement,\n   530→  React.ComponentProps\u003c\"div\"\u003e \u0026 {\n   531→    showIcon?: boolean;\n   532→  }\n   533→\u003e(({ className, showIcon = false, ...props }, ref) =\u003e {\n   534→  // Random width between 50 to 90%.\n   535→  const width = React.useMemo(() =\u003e {\n   536→    return `${Math.floor(Math.random() * 40) + 50}%`;\n   537→  }, []);\n   538→\n   539→  return (\n   540→    \u003cdiv\n   541→      ref={ref}\n   542→      data-sidebar=\"menu-skeleton\"\n   543→      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n   544→      {...props}\n   545→    \u003e\n   546→      {showIcon \u0026\u0026 \u003cSkeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" /\u003e}\n   547→      \u003cSkeleton\n   548→        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n   549→        data-sidebar=\"menu-skeleton-text\"\n   550→        style={\n   551→          {\n   552→            \"--skeleton-width\": width,\n   553→          } as React.CSSProperties\n   554→        }\n   555→      /\u003e\n   556→    \u003c/div\u003e\n   557→  );\n   558→});\n   559→SidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n   560→\n   561→const SidebarMenuSub = React.forwardRef\u003cHTMLUListElement, React.ComponentProps\u003c\"ul\"\u003e\u003e(\n   562→  ({ className, ...props }, ref) =\u003e (\n   563→    \u003cul\n   564→      ref={ref}\n   565→      data-sidebar=\"menu-sub\"\n   566→      className={cn(\n   567→        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n   568→        \"group-data-[collapsible=icon]:hidden\",\n   569→        className,\n   570→      )}\n   571→      {...props}\n   572→    /\u003e\n   573→  ),\n   574→);\n   575→SidebarMenuSub.displayName = \"SidebarMenuSub\";\n   576→\n   577→const SidebarMenuSubItem = React.forwardRef\u003cHTMLLIElement, React.ComponentProps\u003c\"li\"\u003e\u003e(({ ...props }, ref) =\u003e (\n   578→  \u003cli ref={ref} {...props} /\u003e\n   579→));\n   580→SidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n   581→\n   582→const SidebarMenuSubButton = React.forwardRef\u003c\n   583→  HTMLAnchorElement,\n   584→  React.ComponentProps\u003c\"a\"\u003e \u0026 {\n   585→    asChild?: boolean;\n   586→    size?: \"sm\" | \"md\";\n   587→    isActive?: boolean;\n   588→  }\n   589→\u003e(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) =\u003e {\n   590→  const Comp = asChild ? Slot : \"a\";\n   591→\n   592→  return (\n   593→    \u003cComp\n   594→      ref={ref}\n   595→      data-sidebar=\"menu-sub-button\"\n   596→      data-size={size}\n   597→      data-active={isActive}\n   598→      className={cn(\n   599→        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [\u0026\u003espan:last-child]:truncate [\u0026\u003esvg]:size-4 [\u0026\u003esvg]:shrink-0 [\u0026\u003esvg]:text-sidebar-accent-foreground\",\n   600→        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n   601→        size === \"sm\" \u0026\u0026 \"text-xs\",\n   602→        size === \"md\" \u0026\u0026 \"text-sm\",\n   603→        \"group-data-[collapsible=icon]:hidden\",\n   604→        className,\n   605→      )}\n   606→      {...props}\n   607→    /\u003e\n   608→  );\n   609→});\n   610→SidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n   611→\n   612→export {\n   613→  Sidebar,\n   614→  SidebarContent,\n   615→  SidebarFooter,\n   616→  SidebarGroup,\n   617→  SidebarGroupAction,\n   618→  SidebarGroupContent,\n   619→  SidebarGroupLabel,\n   620→  SidebarHeader,\n   621→  SidebarInput,\n   622→  SidebarInset,\n   623→  SidebarMenu,\n   624→  SidebarMenuAction,\n   625→  SidebarMenuBadge,\n   626→  SidebarMenuButton,\n   627→  SidebarMenuItem,\n   628→  SidebarMenuSkeleton,\n   629→  SidebarMenuSub,\n   630→  SidebarMenuSubButton,\n   631→  SidebarMenuSubItem,\n   632→  SidebarProvider,\n   633→  SidebarRail,\n   634→  SidebarSeparator,\n   635→  SidebarTrigger,\n   636→  useSidebar,\n   637→};\n   638→\n","startLine":1,"endLine":638,"totalLineCount":638,"isEntire":true,"dependencies":"","message":"Contents of /home/mohjak/syrian-community/sc-dof/src/components/ui/sidebar.tsx, from line 1-638 (total 638 lines)\n"},"Status":"FINISHED"}},"reasoning_content_signature":""},{"role":"assistant","content":"\u003cdocs\u003e\n# Custom Hooks for State Management\n\n\u003ccite\u003e\n**Referenced Files in This Document**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx)\n- [use-toast.ts](file://src/hooks/use-toast.ts)\n- [toaster.tsx](file://src/components/ui/toaster.tsx)\n- [sonner.tsx](file://src/components/ui/sonner.tsx)\n- [toast.tsx](file://src/components/ui/toast.tsx)\n- [use-toast.ts (UI wrapper)](file://src/components/ui/use-toast.ts)\n- [App.tsx](file://src/App.tsx)\n- [sidebar.tsx](file://src/components/ui/sidebar.tsx)\n\u003c/cite\u003e\n\n## Table of Contents\n1. [Introduction](#introduction)\n2. [Project Structure](#project-structure)\n3. [Core Components](#core-components)\n4. [Architecture Overview](#architecture-overview)\n5. [Detailed Component Analysis](#detailed-component-analysis)\n6. [Dependency Analysis](#dependency-analysis)\n7. [Performance Considerations](#performance-considerations)\n8. [Troubleshooting Guide](#troubleshooting-guide)\n9. [Conclusion](#conclusion)\n\n## Introduction\nThis document explains two custom hooks used for state management:\n- useIsMobile: a responsive hook that detects whether the viewport width is below a mobile breakpoint and updates on resize.\n- useToast: a reducer-based, singleton-style toast manager that coordinates toast lifecycle, queue limits, and imperative controls.\n\nIt also covers how these hooks integrate with UI components (Toaster and Sonner) and how to use them effectively in components like Sidebar.\n\n## Project Structure\nThe hooks live under src/hooks, while their UI integrations live under src/components/ui. App mounts both Toaster and Sonner at the root level.\n\n```mermaid\ngraph TB\n  subgraph \"Hooks\"\n    UIM[\"src/hooks/use-mobile.tsx\"]\n    UT[\"src/hooks/use-toast.ts\"]\n  end\n\n  subgraph \"UI Integrations\"\n    TWR[\"src/components/ui/use-toast.ts\"]\n    TO[\"src/components/ui/toaster.tsx\"]\n    S[\"src/components/ui/sonner.tsx\"]\n    TP[\"src/components/ui/toast.tsx\"]\n  end\n\n  subgraph \"App\"\n    APP[\"src/App.tsx\"]\n  end\n\n  subgraph \"Components\"\n    SB[\"src/components/ui/sidebar.tsx\"]\n  end\n\n  APP --\u003e TO\n  APP --\u003e S\n  TO --\u003e TP\n  SB --\u003e UIM\n  UT --\u003e TWR\n  TWR --\u003e TO\n  TWR --\u003e S\n```\n\n**Diagram sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n- [toast.tsx](file://src/components/ui/toast.tsx#L1-L112)\n- [use-toast.ts (UI wrapper)](file://src/components/ui/use-toast.ts#L1-L4)\n- [App.tsx](file://src/App.tsx#L1-L43)\n- [sidebar.tsx](file://src/components/ui/sidebar.tsx#L1-L638)\n\n**Section sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n- [toast.tsx](file://src/components/ui/toast.tsx#L1-L112)\n- [use-toast.ts (UI wrapper)](file://src/components/ui/use-toast.ts#L1-L4)\n- [App.tsx](file://src/App.tsx#L1-L43)\n- [sidebar.tsx](file://src/components/ui/sidebar.tsx#L1-L638)\n\n## Core Components\n- useIsMobile: Returns a boolean indicating mobile viewport and updates on resize via matchMedia.\n- useToast: Provides a reducer-based state machine for toasts, a singleton dispatcher, and imperative helpers (toast, dismiss, update).\n\n**Section sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n\n## Architecture Overview\nThe toast system uses a singleton pattern with a global reducer and listeners. Components subscribe via useToast and receive the latest state. UI components (Toaster and Sonner) render the current toasts.\n\n```mermaid\nsequenceDiagram\n  participant C as \"Component\"\n  participant UT as \"use-toast.ts\"\n  participant R as \"Reducer\"\n  participant L as \"Listeners\"\n  participant UI as \"Toaster/Sonner\"\n\n  C-\u003e\u003eUT: toast(props)\n  UT-\u003e\u003eUT: genId()\n  UT-\u003e\u003eR: dispatch(ADD_TOAST)\n  R--\u003e\u003eL: update memoryState\n  L--\u003e\u003eUI: setState(toasts)\n  UI--\u003e\u003eC: renders toasts\n  C-\u003e\u003eUT: dismiss(id)/update(id,...)\n  UT-\u003e\u003eR: dispatch(DISMISS_TOAST/UPDATE_TOAST)\n  R--\u003e\u003eL: update memoryState\n  L--\u003e\u003eUI: setState(toasts)\n```\n\n**Diagram sources**\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n\n## Detailed Component Analysis\n\n### useIsMobile Hook\n- Breakpoint: Uses a 768px breakpoint to decide mobile vs. desktop.\n- Initialization: Starts with an undefined state to reflect unknown until first measurement.\n- Detection: On mount, measures window width and sets the initial boolean. Subscribes to matchMedia change events to update on resize.\n- Cleanup: Removes the event listener in useEffect return to prevent memory leaks.\n\nExample usage in components:\n- Sidebar uses useIsMobile to switch between a Sheet overlay (mobile) and a static sidebar (desktop). It toggles openMobile on mobile and open on desktop.\n\n```mermaid\nflowchart TD\n  Start([\"Mount useIsMobile\"]) --\u003e Init[\"Initialize isMobile as undefined\"]\n  Init --\u003e Measure[\"Measure window.innerWidth\"]\n  Measure --\u003e SetState[\"Set isMobile based on \u003c 768\"]\n  SetState --\u003e Listen[\"Add matchMedia('change') listener\"]\n  Listen --\u003e Resize{\"Resize occurs?\"}\n  Resize --\u003e|Yes| Update[\"Update isMobile on change\"]\n  Resize --\u003e|No| Idle[\"Idle\"]\n  Update --\u003e Resize\n  Idle --\u003e Cleanup[\"Cleanup: removeEventListener\"]\n```\n\n**Diagram sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [sidebar.tsx](file://src/components/ui/sidebar.tsx#L1-L638)\n\n**Section sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [sidebar.tsx](file://src/components/ui/sidebar.tsx#L1-L638)\n\n### useToast Hook and Reducer-Based State Management\n- State shape: An array of ToasterToast entries with id, title, description, action, and open flag.\n- Actions:\n  - ADD_TOAST: Push a new toast to the front and slice to TOAST_LIMIT.\n  - UPDATE_TOAST: Merge partial props into an existing toast by id.\n  - DISMISS_TOAST: Mark toasts as closed and enqueue removal after a delay.\n  - REMOVE_TOAST: Remove toasts by id or clear all when id is undefined.\n- Singleton pattern:\n  - memoryState holds the current state.\n  - listeners array notifies subscribers when state changes.\n  - dispatch updates memoryState and invokes all listeners.\n- Toast lifecycle:\n  - toast(props) generates a unique id, dispatches ADD_TOAST, and returns dismiss/update methods.\n  - onOpenChange triggers dismiss when the toast closes.\n  - addToRemoveQueue schedules removal after TOAST_REMOVE_DELAY and stores timeout references in a Map keyed by id.\n- Queue limit: TOAST_LIMIT prevents queue overflow by slicing to the newest N toasts.\n\nIntegration with UI:\n- Toaster reads toasts from useToast and renders each toast with title/description/action and a close button.\n- Sonner integrates with next-themes to apply theme-aware styles and passes toast options.\n\n```mermaid\nclassDiagram\n  class State {\n    +toasts: ToasterToast[]\n  }\n  class ToasterToast {\n    +id: string\n    +title?: ReactNode\n    +description?: ReactNode\n    +action?: ToastActionElement\n    +open: boolean\n  }\n  class Action {\n    \u003c\u003cunion\u003e\u003e\n    +ADD_TOAST\n    +UPDATE_TOAST\n    +DISMISS_TOAST\n    +REMOVE_TOAST\n  }\n  class Reducer {\n    +reducer(state, action) State\n  }\n  class Dispatcher {\n    +dispatch(action) void\n  }\n  class Listener {\n    +setState(State) void\n  }\n\n  Reducer --\u003e State : \"returns\"\n  Dispatcher --\u003e Reducer : \"calls\"\n  Dispatcher --\u003e Listener : \"notifies\"\n  Listener --\u003e State : \"updates\"\n```\n\n**Diagram sources**\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [toast.tsx](file://src/components/ui/toast.tsx#L1-L112)\n\n**Section sources**\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [toast.tsx](file://src/components/ui/toast.tsx#L1-L112)\n\n### UI Integration: Toaster and Sonner\n- Toaster:\n  - Subscribes to useToast and renders each toast with title/description/action and a close button.\n  - Uses ToastProvider and ToastViewport from Radix UI.\n- Sonner:\n  - Wraps next-themes to respect light/dark/system themes.\n  - Applies custom class names for toast, description, action/cancel buttons.\n  - Exports its own toast function for convenience.\n\n```mermaid\nsequenceDiagram\n  participant Root as \"App.tsx\"\n  participant T as \"Toaster\"\n  participant S as \"Sonner\"\n  participant UT as \"use-toast.ts\"\n  participant UI as \"Radix UI Toast\"\n\n  Root-\u003e\u003eT: Render Toaster\n  Root-\u003e\u003eS: Render Sonner\n  T-\u003e\u003eUT: useToast()\n  UT--\u003e\u003eT: {toasts, toast, dismiss}\n  T-\u003e\u003eUI: Map toasts to Toast components\n  S-\u003e\u003eUT: toast()/dismiss() via exported wrapper\n```\n\n**Diagram sources**\n- [App.tsx](file://src/App.tsx#L1-L43)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n\n**Section sources**\n- [App.tsx](file://src/App.tsx#L1-L43)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n- [use-toast.ts (UI wrapper)](file://src/components/ui/use-toast.ts#L1-L4)\n\n## Dependency Analysis\n- useIsMobile depends on window.matchMedia and React’s useState/useEffect.\n- useToast depends on React’s useState/useEffect and a reducer pattern with a global dispatcher and listeners.\n- UI components depend on use-toast for state and on Radix UI primitives for rendering.\n\n```mermaid\ngraph LR\n  UIM[\"useIsMobile\"] --\u003e React[\"React\"]\n  UT[\"useToast\"] --\u003e React\n  UT --\u003e Reducer[\"Reducer\"]\n  UT --\u003e Listeners[\"Global Listeners\"]\n  TO[\"Toaster\"] --\u003e UT\n  S[\"Sonner\"] --\u003e UT\n  TO --\u003e TP[\"Radix UI Toast Primitives\"]\n```\n\n**Diagram sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [toast.tsx](file://src/components/ui/toast.tsx#L1-L112)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n\n**Section sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [toast.tsx](file://src/components/ui/toast.tsx#L1-L112)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n\n## Performance Considerations\n- Event listener cleanup:\n  - useIsMobile removes the matchMedia change listener on unmount to prevent memory leaks.\n  - useToast removes the subscriber from listeners on unmount to avoid stale closures.\n- Memory management of timeouts:\n  - addToRemoveQueue stores timeout references in a Map keyed by toast id. Each timeout is cleared when removed, and the map entry is deleted to prevent leaks.\n- Preventing unnecessary re-renders:\n  - useToast subscribes only once and unsubscribes on unmount.\n  - The toast function returns dismiss/update bound to the current id, avoiding extra renders caused by closures.\n- Queue limits:\n  - TOAST_LIMIT ensures the toast array does not grow indefinitely, keeping renders efficient.\n\n**Section sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n\n## Troubleshooting Guide\n- Mobile detection not updating on resize:\n  - Ensure the component using useIsMobile is mounted and not memoized away. Confirm that the matchMedia listener is attached and not removed prematurely.\n- Mobile detection returns wrong value on initial load:\n  - The hook initializes with undefined and sets the value after mount. If you need a stable initial value, guard UI rendering until isMobile is truthy.\n- Toasts not appearing:\n  - Verify that Toaster or Sonner is rendered at the app root. Ensure useToast is called inside a provider context if needed.\n- Toasts not dismissing:\n  - Check that onOpenChange is wired to dismiss. Also verify that addToRemoveQueue is invoked and timeouts are not being cleared elsewhere.\n- Duplicate toasts or queue overflow:\n  - Respect TOAST_LIMIT. If you need multiple concurrent toasts, adjust the limit or refactor toasts to avoid duplicates.\n- Theme mismatch with Sonner:\n  - Confirm next-themes is configured and theme prop is passed correctly.\n\n**Section sources**\n- [use-mobile.tsx](file://src/hooks/use-mobile.tsx#L1-L19)\n- [use-toast.ts](file://src/hooks/use-toast.ts#L1-L186)\n- [toaster.tsx](file://src/components/ui/toaster.tsx#L1-L24)\n- [sonner.tsx](file://src/components/ui/sonner.tsx#L1-L28)\n- [App.tsx](file://src/App.tsx#L1-L43)\n\n## Conclusion\nuseIsMobile provides a lightweight, cleanup-safe way to detect mobile breakpoints and react to resize events. useToast offers a robust, singleton-driven toast system with queue limits, timeout management, and imperative controls. Together with Toaster and Sonner, they enable consistent, performant feedback and responsive UI behavior across the application.\n\n\u003c/docs\u003e","response_meta":{"id":"chatcmpl-1ae0a5eb-ed82-4294-b628-b3000b5d3262","finish_reason":"stop","usage":{"prompt_tokens":38090,"completion_tokens":3586,"total_tokens":41676,"completion_tokens_details":{"reasoning_tokens":0},"prompt_tokens_details":{"cached_tokens":0}}},"reasoning_content_signature":""}]